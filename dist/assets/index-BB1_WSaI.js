var Br=Object.defineProperty;var Un=e=>{throw TypeError(e)};var Vr=(e,t,n)=>t in e?Br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>Vr(e,typeof t!="symbol"?t+"":t,n),on=(e,t,n)=>t.has(e)||Un("Cannot "+n);var _=(e,t,n)=>(on(e,t,"read from private field"),n?n.call(e):t.get(e)),M=(e,t,n)=>t.has(e)?Un("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),y=(e,t,n,r)=>(on(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),F=(e,t,n)=>(on(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const lr=!1;var Lt=Array.isArray,Gr=Array.prototype.indexOf,Sn=Array.from,hn=Object.defineProperty,lt=Object.getOwnPropertyDescriptor,Hr=Object.getOwnPropertyDescriptors,Xr=Object.prototype,Kr=Array.prototype,sr=Object.getPrototypeOf,jn=Object.isExtensible;function Zr(e){return e()}function _n(e){for(var t=0;t<e.length;t++)e[t]()}function Jr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const z=2,kn=4,zt=8,pt=16,Ee=32,Ke=64,Cn=128,ie=256,Bt=512,$=1024,se=2048,Pe=4096,ce=8192,Ze=16384,xn=32768,en=65536,Yn=1<<17,Qr=1<<18,gt=1<<19,ar=1<<20,pn=1<<21,On=1<<22,Ve=1<<23,Ge=Symbol("$state"),zr=Symbol("legacy props"),An=new class extends Error{constructor(){super(...arguments);et(this,"name","StaleReactionError");et(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function or(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ei(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ti(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ni(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ri(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ii(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function li(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function si(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ai(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function oi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const tn=1,nn=2,fr=4,fi=8,ui=16,ci=2,di=4,vi=8,hi=1,_i=2,I=Symbol(),pi="http://www.w3.org/1999/xhtml";function gi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let mi=!1;function ur(e){return e===this.v}function bi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cr(e){return!bi(e,this.v)}let mt=!1,wi=!1;function yi(){mt=!0}let L=null;function dt(e){L=e}function Je(e,t=!1,n){L={p:L,c:null,e:null,s:e,x:null,l:mt&&!t?{s:null,u:null,$:[]}:null}}function Qe(e){var t=L,n=t.e;if(n!==null){t.e=null;for(var r of n)kr(r)}return L=t.p,{}}function Pt(){return!mt||L!==null&&L.l===null}let nt=[];function Ei(){var e=nt;nt=[],_n(e)}function bt(e){if(nt.length===0){var t=nt;queueMicrotask(()=>{t===nt&&Ei()})}nt.push(e)}const Ti=new WeakMap;function dr(e){var t=x;if(t===null)return k.f|=Ve,e;if((t.f&xn)===0){if((t.f&Cn)===0)throw!t.parent&&e instanceof Error&&vr(e),e;t.b.error(e)}else vt(e,t)}function vt(e,t){for(;t!==null;){if((t.f&Cn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&vr(e),e}function vr(e){const t=Ti.get(e);t&&(hn(e,"message",{value:t.message}),hn(e,"stack",{value:t.stack}))}const fn=new Set;let W=null,gn=new Set,kt=[],Mn=null,mn=!1;var At,ft,xe,Mt,Nt,Fe,ut,Ue,Oe,ct,Rt,Dt,de,hr,Ut,bn;const Zt=class Zt{constructor(){M(this,de);et(this,"current",new Map);M(this,At,new Map);M(this,ft,new Set);M(this,xe,0);M(this,Mt,null);M(this,Nt,!1);M(this,Fe,[]);M(this,ut,[]);M(this,Ue,[]);M(this,Oe,[]);M(this,ct,[]);M(this,Rt,[]);M(this,Dt,[]);et(this,"skipped_effects",new Set)}process(t){var i;kt=[];for(const l of t)F(this,de,hr).call(this,l);if(_(this,Fe).length===0&&_(this,xe)===0){F(this,de,bn).call(this);var n=_(this,Ue),r=_(this,Oe);y(this,Ue,[]),y(this,Oe,[]),y(this,ct,[]),W=null,Bn(n),Bn(r),W===null?W=this:fn.delete(this),(i=_(this,Mt))==null||i.resolve()}else F(this,de,Ut).call(this,_(this,Ue)),F(this,de,Ut).call(this,_(this,Oe)),F(this,de,Ut).call(this,_(this,ct));for(const l of _(this,Fe))ot(l);for(const l of _(this,ut))ot(l);y(this,Fe,[]),y(this,ut,[])}capture(t,n){_(this,At).has(t)||_(this,At).set(t,n),this.current.set(t,t.v)}activate(){W=this}deactivate(){W=null;for(const t of gn)if(gn.delete(t),t(),W!==null)break}neuter(){y(this,Nt,!0)}flush(){kt.length>0?Si():F(this,de,bn).call(this),W===this&&(_(this,xe)===0&&fn.delete(this),this.deactivate())}increment(){y(this,xe,_(this,xe)+1)}decrement(){if(y(this,xe,_(this,xe)-1),_(this,xe)===0){for(const t of _(this,Rt))Z(t,se),ht(t);for(const t of _(this,Dt))Z(t,Pe),ht(t);y(this,Ue,[]),y(this,Oe,[]),this.flush()}else this.deactivate()}add_callback(t){_(this,ft).add(t)}settled(){return(_(this,Mt)??y(this,Mt,Jr())).promise}static ensure(){if(W===null){const t=W=new Zt;fn.add(W),Zt.enqueue(()=>{W===t&&t.flush()})}return W}static enqueue(t){bt(t)}};At=new WeakMap,ft=new WeakMap,xe=new WeakMap,Mt=new WeakMap,Nt=new WeakMap,Fe=new WeakMap,ut=new WeakMap,Ue=new WeakMap,Oe=new WeakMap,ct=new WeakMap,Rt=new WeakMap,Dt=new WeakMap,de=new WeakSet,hr=function(t){var d;t.f^=$;for(var n=t.first;n!==null;){var r=n.f,i=(r&(Ee|Ke))!==0,l=i&&(r&$)!==0,s=l||(r&ce)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(i)n.f^=$;else if((r&kn)!==0)_(this,Oe).push(n);else if((r&$)===0)if((r&On)!==0){var o=(d=n.b)!=null&&d.is_pending()?_(this,ut):_(this,Fe);o.push(n)}else sn(n)&&((n.f&pt)!==0&&_(this,ct).push(n),ot(n));var a=n.first;if(a!==null){n=a;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Ut=function(t){for(const n of t)((n.f&se)!==0?_(this,Rt):_(this,Dt)).push(n),Z(n,$);t.length=0},bn=function(){if(!_(this,Nt))for(const t of _(this,ft))t();_(this,ft).clear()};let De=Zt;function Si(){var e=at;mn=!0;try{var t=0;for(Gn(!0);kt.length>0;){var n=De.ensure();if(t++>1e3){var r,i;ki()}n.process(kt),Le.clear()}}finally{mn=!1,Gn(e),Mn=null}}function ki(){try{ii()}catch(e){vt(e,Mn)}}let we=null;function Bn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ze|ce))===0&&sn(r)&&(we=[],ot(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ar(r):r.fn=null),(we==null?void 0:we.length)>0)){Le.clear();for(const i of we)ot(i);we=[]}}we=null}}function ht(e){for(var t=Mn=e;t.parent!==null;){t=t.parent;var n=t.f;if(mn&&t===x&&(n&pt)!==0)return;if((n&(Ke|Ee))!==0){if((n&$)===0)return;t.f^=$}}kt.push(t)}function Ci(e){let t=0,n=Xe(0),r;return()=>{Fi()&&(m(n),Cr(()=>(t===0&&(r=ue(()=>e(()=>St(n)))),t+=1,()=>{bt(()=>{t-=1,t===0&&(r==null||r(),r=void 0,St(n))})})))}}var xi=en|gt|Cn;function Oi(e,t,n){new Ai(e,t,n)}var ae,ne,Tn,he,je,_e,re,X,pe,Ae,Ye,Me,Be,Ne,Jt,Qt,V,Mi,Ni,jt,Yt,wn;class Ai{constructor(t,n,r){M(this,V);et(this,"parent");M(this,ae,!1);M(this,ne);M(this,Tn,null);M(this,he);M(this,je);M(this,_e);M(this,re,null);M(this,X,null);M(this,pe,null);M(this,Ae,null);M(this,Ye,0);M(this,Me,0);M(this,Be,!1);M(this,Ne,null);M(this,Jt,()=>{_(this,Ne)&&_t(_(this,Ne),_(this,Ye))});M(this,Qt,Ci(()=>(y(this,Ne,Xe(_(this,Ye))),()=>{y(this,Ne,null)})));y(this,ne,t),y(this,he,n),y(this,je,r),this.parent=x.b,y(this,ae,!!_(this,he).pending),y(this,_e,Ln(()=>{x.b=this;{try{y(this,re,oe(()=>r(_(this,ne))))}catch(i){this.error(i)}_(this,Me)>0?F(this,V,Yt).call(this):y(this,ae,!1)}},xi))}is_pending(){return _(this,ae)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!_(this,he).pending}update_pending_count(t){F(this,V,wn).call(this,t),y(this,Ye,_(this,Ye)+t),gn.add(_(this,Jt))}get_effect_pending(){return _(this,Qt).call(this),m(_(this,Ne))}error(t){var n=_(this,he).onerror;let r=_(this,he).failed;if(_(this,Be)||!n&&!r)throw t;_(this,re)&&(le(_(this,re)),y(this,re,null)),_(this,X)&&(le(_(this,X)),y(this,X,null)),_(this,pe)&&(le(_(this,pe)),y(this,pe,null));var i=!1,l=!1;const s=()=>{if(i){gi();return}i=!0,l&&oi(),De.ensure(),y(this,Ye,0),_(this,pe)!==null&&st(_(this,pe),()=>{y(this,pe,null)}),y(this,ae,this.has_pending_snippet()),y(this,re,F(this,V,jt).call(this,()=>(y(this,Be,!1),oe(()=>_(this,je).call(this,_(this,ne)))))),_(this,Me)>0?F(this,V,Yt).call(this):y(this,ae,!1)};var o=k;try{K(null),l=!0,n==null||n(t,s),l=!1}catch(a){vt(a,_(this,_e)&&_(this,_e).parent)}finally{K(o)}r&&bt(()=>{y(this,pe,F(this,V,jt).call(this,()=>{y(this,Be,!0);try{return oe(()=>{r(_(this,ne),()=>t,()=>s)})}catch(a){return vt(a,_(this,_e).parent),null}finally{y(this,Be,!1)}}))})}}ae=new WeakMap,ne=new WeakMap,Tn=new WeakMap,he=new WeakMap,je=new WeakMap,_e=new WeakMap,re=new WeakMap,X=new WeakMap,pe=new WeakMap,Ae=new WeakMap,Ye=new WeakMap,Me=new WeakMap,Be=new WeakMap,Ne=new WeakMap,Jt=new WeakMap,Qt=new WeakMap,V=new WeakSet,Mi=function(){try{y(this,re,oe(()=>_(this,je).call(this,_(this,ne))))}catch(t){this.error(t)}y(this,ae,!1)},Ni=function(){const t=_(this,he).pending;t&&(y(this,X,oe(()=>t(_(this,ne)))),De.enqueue(()=>{y(this,re,F(this,V,jt).call(this,()=>(De.ensure(),oe(()=>_(this,je).call(this,_(this,ne)))))),_(this,Me)>0?F(this,V,Yt).call(this):(st(_(this,X),()=>{y(this,X,null)}),y(this,ae,!1))}))},jt=function(t){var n=x,r=k,i=L;me(_(this,_e)),K(_(this,_e)),dt(_(this,_e).ctx);try{return t()}catch(l){return dr(l),null}finally{me(n),K(r),dt(i)}},Yt=function(){const t=_(this,he).pending;_(this,re)!==null&&(y(this,Ae,document.createDocumentFragment()),Ri(_(this,re),_(this,Ae))),_(this,X)===null&&y(this,X,oe(()=>t(_(this,ne))))},wn=function(t){var n;if(!this.has_pending_snippet()){this.parent&&F(n=this.parent,V,wn).call(n,t);return}y(this,Me,_(this,Me)+t),_(this,Me)===0&&(y(this,ae,!1),_(this,X)&&st(_(this,X),()=>{y(this,X,null)}),_(this,Ae)&&(_(this,ne).before(_(this,Ae)),y(this,Ae,null)))};function Ri(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:qt(n);t.append(n),n=i}}function Di(e,t,n){const r=Pt()?Nn:rn;if(t.length===0){n(e.map(r));return}var i=W,l=x,s=Li();Promise.all(t.map(o=>Pi(o))).then(o=>{i==null||i.activate(),s();try{n([...e.map(r),...o])}catch(a){(l.f&Ze)===0&&vt(a,l)}i==null||i.deactivate(),_r()}).catch(o=>{vt(o,l)})}function Li(){var e=x,t=k,n=L,r=W;return function(){me(e),K(t),dt(n),r==null||r.activate()}}function _r(){me(null),K(null),dt(null)}function Nn(e){var t=z|se,n=k!==null&&(k.f&z)!==0?k:null;return x===null||n!==null&&(n.f&ie)!==0?t|=ie:x.f|=gt,{ctx:L,deps:null,effects:null,equals:ur,f:t,fn:e,reactions:null,rv:0,v:I,wv:0,parent:n??x,ac:null}}function Pi(e,t){let n=x;n===null&&ei();var r=n.b,i=void 0,l=Xe(I),s=null,o=!k;return Vi(()=>{try{var a=e();s&&Promise.resolve(a).catch(()=>{})}catch(h){a=Promise.reject(h)}var u=()=>a;i=(s==null?void 0:s.then(u,u))??Promise.resolve(a),s=i;var d=W,v=r.is_pending();o&&(r.update_pending_count(1),v||d.increment());const p=(h,c=void 0)=>{s=null,v||d.activate(),c?c!==An&&(l.f|=Ve,_t(l,c)):((l.f&Ve)!==0&&(l.f^=Ve),_t(l,h)),o&&(r.update_pending_count(-1),v||d.decrement()),_r()};if(i.then(p,h=>p(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(a=>{function u(d){function v(){d===i?a(l):u(i)}d.then(v,v)}u(i)})}function rn(e){const t=Nn(e);return t.equals=cr,t}function pr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)le(t[n])}}function qi(e){for(var t=e.parent;t!==null;){if((t.f&z)===0)return t;t=t.parent}return null}function Rn(e){var t,n=x;me(qi(e));try{pr(e),t=Pr(e)}finally{me(n)}return t}function gr(e){var t=Rn(e);if(e.equals(t)||(e.v=t,e.wv=Dr()),!ze){var n=(Re||(e.f&ie)!==0)&&e.deps!==null?Pe:$;Z(e,n)}}const Le=new Map;function Xe(e,t){var n={f:0,v:e,reactions:null,equals:ur,rv:0,wv:0};return n}function Se(e,t){const n=Xe(e);return Xi(n),n}function Ct(e,t=!1,n=!0){var i;const r=Xe(e);return t||(r.equals=cr),mt&&n&&L!==null&&L.l!==null&&((i=L.l).s??(i.s=[])).push(r),r}function ke(e,t){return P(e,ue(()=>m(e))),t}function P(e,t,n=!1){k!==null&&(!fe||(k.f&Yn)!==0)&&Pt()&&(k.f&(z|pt|On|Yn))!==0&&!(B!=null&&B.includes(e))&&ai();let r=n?$e(t):t;return _t(e,r)}function _t(e,t){if(!e.equals(t)){var n=e.v;ze?Le.set(e,t):Le.set(e,n),e.v=t;var r=De.ensure();r.capture(e,n),(e.f&z)!==0&&((e.f&se)!==0&&Rn(e),Z(e,(e.f&ie)===0?$:Pe)),e.wv=Dr(),mr(e,se),Pt()&&x!==null&&(x.f&$)!==0&&(x.f&(Ee|Ke))===0&&(te===null?Ki([e]):te.push(e))}return t}function St(e){P(e,e.v+1)}function mr(e,t){var n=e.reactions;if(n!==null)for(var r=Pt(),i=n.length,l=0;l<i;l++){var s=n[l],o=s.f;if(!(!r&&s===x)){var a=(o&se)===0;a&&Z(s,t),(o&z)!==0?mr(s,Pe):a&&((o&pt)!==0&&we!==null&&we.push(s),ht(s))}}}function $e(e){if(typeof e!="object"||e===null||Ge in e)return e;const t=sr(e);if(t!==Xr&&t!==Kr)return e;var n=new Map,r=Lt(e),i=Se(0),l=He,s=o=>{if(He===l)return o();var a=k,u=He;K(null),Xn(l);var d=o();return K(a),Xn(u),d};return r&&n.set("length",Se(e.length)),new Proxy(e,{defineProperty(o,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&li();var d=n.get(a);return d===void 0?d=s(()=>{var v=Se(u.value);return n.set(a,v),v}):P(d,u.value,!0),!0},deleteProperty(o,a){var u=n.get(a);if(u===void 0){if(a in o){const d=s(()=>Se(I));n.set(a,d),St(i)}}else P(u,I),St(i);return!0},get(o,a,u){var h;if(a===Ge)return e;var d=n.get(a),v=a in o;if(d===void 0&&(!v||(h=lt(o,a))!=null&&h.writable)&&(d=s(()=>{var c=$e(v?o[a]:I),b=Se(c);return b}),n.set(a,d)),d!==void 0){var p=m(d);return p===I?void 0:p}return Reflect.get(o,a,u)},getOwnPropertyDescriptor(o,a){var u=Reflect.getOwnPropertyDescriptor(o,a);if(u&&"value"in u){var d=n.get(a);d&&(u.value=m(d))}else if(u===void 0){var v=n.get(a),p=v==null?void 0:v.v;if(v!==void 0&&p!==I)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return u},has(o,a){var p;if(a===Ge)return!0;var u=n.get(a),d=u!==void 0&&u.v!==I||Reflect.has(o,a);if(u!==void 0||x!==null&&(!d||(p=lt(o,a))!=null&&p.writable)){u===void 0&&(u=s(()=>{var h=d?$e(o[a]):I,c=Se(h);return c}),n.set(a,u));var v=m(u);if(v===I)return!1}return d},set(o,a,u,d){var w;var v=n.get(a),p=a in o;if(r&&a==="length")for(var h=u;h<v.v;h+=1){var c=n.get(h+"");c!==void 0?P(c,I):h in o&&(c=s(()=>Se(I)),n.set(h+"",c))}if(v===void 0)(!p||(w=lt(o,a))!=null&&w.writable)&&(v=s(()=>Se(void 0)),P(v,$e(u)),n.set(a,v));else{p=v.v!==I;var b=s(()=>$e(u));P(v,b)}var g=Reflect.getOwnPropertyDescriptor(o,a);if(g!=null&&g.set&&g.set.call(d,u),!p){if(r&&typeof a=="string"){var T=n.get("length"),E=Number(a);Number.isInteger(E)&&E>=T.v&&P(T,E+1)}St(i)}return!0},ownKeys(o){m(i);var a=Reflect.ownKeys(o).filter(v=>{var p=n.get(v);return p===void 0||p.v!==I});for(var[u,d]of n)d.v!==I&&!(u in o)&&a.push(u);return a},setPrototypeOf(){si()}})}var Vn,br,wr,yr;function Ii(){if(Vn===void 0){Vn=window,br=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;wr=lt(t,"firstChild").get,yr=lt(t,"nextSibling").get,jn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),jn(n)&&(n.__t=void 0)}}function ln(e=""){return document.createTextNode(e)}function Vt(e){return wr.call(e)}function qt(e){return yr.call(e)}function R(e,t){return Vt(e)}function Er(e,t=!1){{var n=Vt(e);return n instanceof Comment&&n.data===""?qt(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=qt(r);return r}function Wi(e){e.textContent=""}function Tr(){return!1}function Dn(e){var t=k,n=x;K(null),me(null);try{return e()}finally{K(t),me(n)}}function Sr(e){x===null&&k===null&&ri(),k!==null&&(k.f&ie)!==0&&x===null&&ni(),ze&&ti()}function $i(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function be(e,t,n,r=!0){var i=x;i!==null&&(i.f&ce)!==0&&(e|=ce);var l={ctx:L,deps:null,nodes_start:null,nodes_end:null,f:e|se,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{ot(l),l.f|=xn}catch(a){throw le(l),a}else t!==null&&ht(l);if(r){var s=l;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&gt)===0&&(s=s.first),s!==null&&(s.parent=i,i!==null&&$i(s,i),k!==null&&(k.f&z)!==0&&(e&Ke)===0)){var o=k;(o.effects??(o.effects=[])).push(s)}}return l}function Fi(){return k!==null&&!fe}function Ui(e){const t=be(zt,null,!1);return Z(t,$),t.teardown=e,t}function yn(e){Sr();var t=x.f,n=!k&&(t&Ee)!==0&&(t&xn)===0;if(n){var r=L;(r.e??(r.e=[])).push(e)}else return kr(e)}function kr(e){return be(kn|ar,e,!1)}function ji(e){return Sr(),be(zt|ar,e,!0)}function Yi(e){De.ensure();const t=be(Ke|gt,e,!0);return(n={})=>new Promise(r=>{n.outro?st(t,()=>{le(t),r(void 0)}):(le(t),r(void 0))})}function Bi(e){return be(kn,e,!1)}function Vi(e){return be(On|gt,e,!0)}function Cr(e,t=0){return be(zt|t,e,!0)}function ye(e,t=[],n=[]){Di(t,n,r=>{be(zt,()=>e(...r.map(m)),!0)})}function Ln(e,t=0){var n=be(pt|t,e,!0);return n}function oe(e,t=!0){return be(Ee|gt,e,!0,t)}function xr(e){var t=e.teardown;if(t!==null){const n=ze,r=k;Hn(!0),K(null);try{t.call(null)}finally{Hn(n),K(r)}}}function Or(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Dn(()=>{i.abort(An)});var r=n.next;(n.f&Ke)!==0?n.parent=null:le(n,t),n=r}}function Gi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ee)===0&&le(t),t=n}}function le(e,t=!0){var n=!1;(t||(e.f&Qr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Hi(e.nodes_start,e.nodes_end),n=!0),Or(e,t&&!n),Gt(e,0),Z(e,Ze);var r=e.transitions;if(r!==null)for(const l of r)l.stop();xr(e);var i=e.parent;i!==null&&i.first!==null&&Ar(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Hi(e,t){for(;e!==null;){var n=e===t?null:qt(e);e.remove(),e=n}}function Ar(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function st(e,t){var n=[];Pn(e,n,!0),Mr(n,()=>{le(e),t&&t()})}function Mr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Pn(e,t,n){if((e.f&ce)===0){if(e.f^=ce,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&en)!==0||(r.f&Ee)!==0;Pn(r,t,l?n:!1),r=i}}}function qn(e){Nr(e,!0)}function Nr(e,t){if((e.f&ce)!==0){e.f^=ce,(e.f&$)===0&&(Z(e,se),ht(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&en)!==0||(n.f&Ee)!==0;Nr(n,i?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let at=!1;function Gn(e){at=e}let ze=!1;function Hn(e){ze=e}let k=null,fe=!1;function K(e){k=e}let x=null;function me(e){x=e}let B=null;function Xi(e){k!==null&&(B===null?B=[e]:B.push(e))}let U=null,Q=0,te=null;function Ki(e){te=e}let Rr=1,xt=0,He=xt;function Xn(e){He=e}let Re=!1;function Dr(){return++Rr}function sn(e){var v;var t=e.f;if((t&se)!==0)return!0;if((t&Pe)!==0){var n=e.deps,r=(t&ie)!==0;if(n!==null){var i,l,s=(t&Bt)!==0,o=r&&x!==null&&!Re,a=n.length;if((s||o)&&(x===null||(x.f&Ze)===0)){var u=e,d=u.parent;for(i=0;i<a;i++)l=n[i],(s||!((v=l==null?void 0:l.reactions)!=null&&v.includes(u)))&&(l.reactions??(l.reactions=[])).push(u);s&&(u.f^=Bt),o&&d!==null&&(d.f&ie)===0&&(u.f^=ie)}for(i=0;i<a;i++)if(l=n[i],sn(l)&&gr(l),l.wv>e.wv)return!0}(!r||x!==null&&!Re)&&Z(e,$)}return!1}function Lr(e,t,n=!0){var r=e.reactions;if(r!==null&&!(B!=null&&B.includes(e)))for(var i=0;i<r.length;i++){var l=r[i];(l.f&z)!==0?Lr(l,t,!1):t===l&&(n?Z(l,se):(l.f&$)!==0&&Z(l,Pe),ht(l))}}function Pr(e){var b;var t=U,n=Q,r=te,i=k,l=Re,s=B,o=L,a=fe,u=He,d=e.f;U=null,Q=0,te=null,Re=(d&ie)!==0&&(fe||!at||k===null),k=(d&(Ee|Ke))===0?e:null,B=null,dt(e.ctx),fe=!1,He=++xt,e.ac!==null&&(Dn(()=>{e.ac.abort(An)}),e.ac=null);try{e.f|=pn;var v=e.fn,p=v(),h=e.deps;if(U!==null){var c;if(Gt(e,Q),h!==null&&Q>0)for(h.length=Q+U.length,c=0;c<U.length;c++)h[Q+c]=U[c];else e.deps=h=U;if(!Re||(d&z)!==0&&e.reactions!==null)for(c=Q;c<h.length;c++)((b=h[c]).reactions??(b.reactions=[])).push(e)}else h!==null&&Q<h.length&&(Gt(e,Q),h.length=Q);if(Pt()&&te!==null&&!fe&&h!==null&&(e.f&(z|Pe|se))===0)for(c=0;c<te.length;c++)Lr(te[c],e);return i!==null&&i!==e&&(xt++,te!==null&&(r===null?r=te:r.push(...te))),(e.f&Ve)!==0&&(e.f^=Ve),p}catch(g){return dr(g)}finally{e.f^=pn,U=t,Q=n,te=r,k=i,Re=l,B=s,dt(o),fe=a,He=u}}function Zi(e,t){let n=t.reactions;if(n!==null){var r=Gr.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&z)!==0&&(U===null||!U.includes(t))&&(Z(t,Pe),(t.f&(ie|Bt))===0&&(t.f^=Bt),pr(t),Gt(t,0))}function Gt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Zi(e,n[r])}function ot(e){var t=e.f;if((t&Ze)===0){Z(e,$);var n=x,r=at;x=e,at=!0;try{(t&pt)!==0?Gi(e):Or(e),xr(e);var i=Pr(e);e.teardown=typeof i=="function"?i:null,e.wv=Rr;var l;lr&&wi&&(e.f&se)!==0&&e.deps}finally{at=r,x=n}}}function m(e){var t=e.f,n=(t&z)!==0;if(k!==null&&!fe){var r=x!==null&&(x.f&Ze)!==0;if(!r&&!(B!=null&&B.includes(e))){var i=k.deps;if((k.f&pn)!==0)e.rv<xt&&(e.rv=xt,U===null&&i!==null&&i[Q]===e?Q++:U===null?U=[e]:(!Re||!U.includes(e))&&U.push(e));else{(k.deps??(k.deps=[])).push(e);var l=e.reactions;l===null?e.reactions=[k]:l.includes(k)||l.push(k)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,o=s.parent;o!==null&&(o.f&ie)===0&&(s.f^=ie)}if(ze){if(Le.has(e))return Le.get(e);if(n){s=e;var a=s.v;return((s.f&$)===0&&s.reactions!==null||qr(s))&&(a=Rn(s)),Le.set(s,a),a}}else n&&(s=e,sn(s)&&gr(s));if((e.f&Ve)!==0)throw e.v;return e.v}function qr(e){if(e.v===I)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Le.has(t)||(t.f&z)!==0&&qr(t))return!0;return!1}function ue(e){var t=fe;try{return fe=!0,e()}finally{fe=t}}const Ji=-7169;function Z(e,t){e.f=e.f&Ji|t}function rt(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ge in e)En(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ge in n&&En(n)}}}function En(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{En(e[r],t)}catch{}const n=sr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Hr(n);for(let i in r){const l=r[i].get;if(l)try{l.call(e)}catch{}}}}}const Qi=["touchstart","touchmove"];function zi(e){return Qi.includes(e)}const el=new Set,Kn=new Set;function tl(e,t,n,r={}){function i(l){if(r.capture||Tt.call(t,l),!l.cancelBubble)return Dn(()=>n==null?void 0:n.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?bt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function q(e,t,n,r,i){var l={capture:r,passive:i},s=tl(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ui(()=>{t.removeEventListener(e,s,l)})}let Zn=null;function Tt(e){var E;var t=this,n=t.ownerDocument,r=e.type,i=((E=e.composedPath)==null?void 0:E.call(e))||[],l=i[0]||e.target;Zn=e;var s=0,o=Zn===e&&e.__root;if(o){var a=i.indexOf(o);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;a<=u&&(s=a)}if(l=i[s]||e.target,l!==t){hn(e,"currentTarget",{configurable:!0,get(){return l||n}});var d=k,v=x;K(null),me(null);try{for(var p,h=[];l!==null;){var c=l.assignedSlot||l.parentNode||l.host||null;try{var b=l["__"+r];if(b!=null&&(!l.disabled||e.target===l))if(Lt(b)){var[g,...T]=b;g.apply(l,[e,...T])}else b.call(l,e)}catch(w){p?h.push(w):p=w}if(e.cancelBubble||c===t||c===null)break;l=c}if(p){for(let w of h)queueMicrotask(()=>{throw w});throw p}}finally{e.__root=t,delete e.currentTarget,K(d),me(v)}}}function nl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Jn(e,t){var n=x;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function G(e,t){var n=(t&hi)!==0,r=(t&_i)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=nl(l?e:"<!>"+e),n||(i=Vt(i)));var s=r||br?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Vt(s),a=s.lastChild;Jn(o,a)}else Jn(s,s);return s}}function Y(e,t){e!==null&&e.before(t)}function j(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function rl(e,t){return il(e,t)}const tt=new Map;function il(e,{target:t,anchor:n,props:r={},events:i,context:l,intro:s=!0}){Ii();var o=new Set,a=v=>{for(var p=0;p<v.length;p++){var h=v[p];if(!o.has(h)){o.add(h);var c=zi(h);t.addEventListener(h,Tt,{passive:c});var b=tt.get(h);b===void 0?(document.addEventListener(h,Tt,{passive:c}),tt.set(h,1)):tt.set(h,b+1)}}};a(Sn(el)),Kn.add(a);var u=void 0,d=Yi(()=>{var v=n??t.appendChild(ln());return Oi(v,{pending:()=>{}},p=>{if(l){Je({});var h=L;h.c=l}i&&(r.$$events=i),u=e(p,r)||{},l&&Qe()}),()=>{var c;for(var p of o){t.removeEventListener(p,Tt);var h=tt.get(p);--h===0?(document.removeEventListener(p,Tt),tt.delete(p)):tt.set(p,h)}Kn.delete(a),v!==n&&((c=v.parentNode)==null||c.removeChild(v))}});return ll.set(u,d),u}let ll=new WeakMap;function Ot(e,t,n=!1){var r=e,i=null,l=null,s=I,o=n?en:0,a=!1;const u=(h,c=!0)=>{a=!0,p(c,h)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=s?i:l,c=s?l:i;h&&qn(h),c&&st(c,()=>{s?l=null:i=null})}const p=(h,c)=>{if(s!==(s=h)){var b=Tr(),g=r;if(b&&(d=document.createDocumentFragment(),d.append(g=ln())),s?i??(i=c&&oe(()=>c(g))):l??(l=c&&oe(()=>c(g))),b){var T=W,E=s?i:l,w=s?l:i;E&&T.skipped_effects.delete(E),w&&T.skipped_effects.add(w),T.add_callback(v)}else v()}};Ln(()=>{a=!1,t(u),a||p(null,null)},o)}function sl(e,t){return t}function al(e,t,n){for(var r=e.items,i=[],l=t.length,s=0;s<l;s++)Pn(t[s].e,i,!0);var o=l>0&&i.length===0&&n!==null;if(o){var a=n.parentNode;Wi(a),a.append(n),r.clear(),ve(e,t[0].prev,t[l-1].next)}Mr(i,()=>{for(var u=0;u<l;u++){var d=t[u];o||(r.delete(d.k),ve(e,d.prev,d.next)),le(d.e,!o)}})}function Ht(e,t,n,r,i,l=null){var s=e,o={flags:t,items:new Map,first:null},a=(t&fr)!==0;if(a){var u=e;s=u.appendChild(ln())}var d=null,v=!1,p=new Map,h=rn(()=>{var T=n();return Lt(T)?T:T==null?[]:Sn(T)}),c,b;function g(){ol(b,c,o,p,s,i,t,r,n),l!==null&&(c.length===0?d?qn(d):d=oe(()=>l(s)):d!==null&&st(d,()=>{d=null}))}Ln(()=>{b??(b=x),c=m(h);var T=c.length;if(!(v&&T===0)){v=T===0;var E,w,S,O;if(Tr()){var C=new Set,N=W;for(w=0;w<T;w+=1){S=c[w],O=r(S,w);var H=o.items.get(O)??p.get(O);H?(t&(tn|nn))!==0&&Ir(H,S,w,t):(E=Wr(null,o,null,null,S,O,w,i,t,n,!0),p.set(O,E)),C.add(O)}for(const[A,Te]of o.items)C.has(A)||N.skipped_effects.add(Te.e);N.add_callback(g)}else g();m(h)}})}function ol(e,t,n,r,i,l,s,o,a){var Wt,In,Wn,$n;var u=(s&fi)!==0,d=(s&(tn|nn))!==0,v=t.length,p=n.items,h=n.first,c=h,b,g=null,T,E=[],w=[],S,O,C,N;if(u)for(N=0;N<v;N+=1)S=t[N],O=o(S,N),C=p.get(O),C!==void 0&&((Wt=C.a)==null||Wt.measure(),(T??(T=new Set)).add(C));for(N=0;N<v;N+=1){if(S=t[N],O=o(S,N),C=p.get(O),C===void 0){var H=r.get(O);if(H!==void 0){r.delete(O),p.set(O,H);var A=g?g.next:c;ve(n,g,H),ve(n,H,A),un(H,A,i),g=H}else{var Te=c?c.e.nodes_start:i;g=Wr(Te,n,g,g===null?n.first:g.next,S,O,N,l,s,a)}p.set(O,g),E=[],w=[],c=g.next;continue}if(d&&Ir(C,S,N,s),(C.e.f&ce)!==0&&(qn(C.e),u&&((In=C.a)==null||In.unfix(),(T??(T=new Set)).delete(C))),C!==c){if(b!==void 0&&b.has(C)){if(E.length<w.length){var ee=w[0],J;g=ee.prev;var yt=E[0],Et=E[E.length-1];for(J=0;J<E.length;J+=1)un(E[J],ee,i);for(J=0;J<w.length;J+=1)b.delete(w[J]);ve(n,yt.prev,Et.next),ve(n,g,yt),ve(n,Et,ee),c=ee,g=Et,N-=1,E=[],w=[]}else b.delete(C),un(C,c,i),ve(n,C.prev,C.next),ve(n,C,g===null?n.first:g.next),ve(n,g,C),g=C;continue}for(E=[],w=[];c!==null&&c.k!==O;)(c.e.f&ce)===0&&(b??(b=new Set)).add(c),w.push(c),c=c.next;if(c===null)continue;C=c}E.push(C),g=C,c=C.next}if(c!==null||b!==void 0){for(var qe=b===void 0?[]:Sn(b);c!==null;)(c.e.f&ce)===0&&qe.push(c),c=c.next;var Ie=qe.length;if(Ie>0){var We=(s&fr)!==0&&v===0?i:null;if(u){for(N=0;N<Ie;N+=1)(Wn=qe[N].a)==null||Wn.measure();for(N=0;N<Ie;N+=1)($n=qe[N].a)==null||$n.fix()}al(n,qe,We)}}u&&bt(()=>{var Fn;if(T!==void 0)for(C of T)(Fn=C.a)==null||Fn.apply()}),e.first=n.first&&n.first.e,e.last=g&&g.e;for(var It of r.values())le(It.e);r.clear()}function Ir(e,t,n,r){(r&tn)!==0&&_t(e.v,t),(r&nn)!==0?_t(e.i,n):e.i=n}function Wr(e,t,n,r,i,l,s,o,a,u,d){var v=(a&tn)!==0,p=(a&ui)===0,h=v?p?Ct(i,!1,!1):Xe(i):i,c=(a&nn)===0?s:Xe(s),b={i:c,v:h,k:l,a:null,e:null,prev:n,next:r};try{if(e===null){var g=document.createDocumentFragment();g.append(e=ln())}return b.e=oe(()=>o(e,h,c,u),mi),b.e.prev=n&&n.e,b.e.next=r&&r.e,n===null?d||(t.first=b):(n.next=b,n.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{}}function un(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==null&&l!==r;){var s=qt(l);i.before(l),l=s}}function ve(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Qn=[...` 	
\r\fÂ \v\uFEFF`];function fl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var l=i.length,s=0;(s=r.indexOf(i,s))>=0;){var o=s+l;(s===0||Qn.includes(r[s-1]))&&(o===r.length||Qn.includes(r[o]))?r=(s===0?"":r.substring(0,s))+r.substring(o+1):s=o}}return r===""?null:r}function ul(e,t){return e==null?null:String(e)}function Xt(e,t,n,r,i,l){var s=e.__className;if(s!==n||s===void 0){var o=fl(n,r,l);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(l&&i!==l)for(var a in l){var u=!!l[a];(i==null||u!==!!i[a])&&e.classList.toggle(a,u)}return l}function $r(e,t,n,r){var i=e.__style;if(i!==t){var l=ul(t);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}return r}const cl=Symbol("is custom element"),dl=Symbol("is html");function vl(e,t,n,r){var i=hl(e);i[t]!==(i[t]=n)&&e.setAttribute(t,n)}function hl(e){return e.__attributes??(e.__attributes={[cl]:e.nodeName.includes("-"),[dl]:e.namespaceURI===pi})}function zn(e,t){return e===t||(e==null?void 0:e[Ge])===t}function _l(e={},t,n,r){return Bi(()=>{var i,l;return Cr(()=>{i=l,l=[],ue(()=>{e!==n(...l)&&(t(e,...l),i&&zn(n(...i),e)&&t(null,...i))})}),()=>{bt(()=>{l&&zn(n(...l),e)&&t(null,...l)})}}),e}function pl(e){return function(...t){var n=t[0];return n.stopPropagation(),e==null?void 0:e.apply(this,t)}}function wt(e=!1){const t=L,n=t.l.u;if(!n)return;let r=()=>rt(t.s);if(e){let i=0,l={};const s=Nn(()=>{let o=!1;const a=t.s;for(const u in a)a[u]!==l[u]&&(l[u]=a[u],o=!0);return o&&i++,i});r=()=>m(s)}n.b.length&&ji(()=>{er(t,r),_n(n.b)}),yn(()=>{const i=ue(()=>n.m.map(Zr));return()=>{for(const l of i)typeof l=="function"&&l()}}),n.a.length&&yn(()=>{er(t,r),_n(n.a)})}function er(e,t){if(e.l.s)for(const n of e.l.s)m(n);t()}function gl(e,t){var l;var n=(l=e.$$events)==null?void 0:l[t.type],r=Lt(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}let $t=!1;function ml(e){var t=$t;try{return $t=!1,[e(),$t]}finally{$t=t}}function Kt(e,t,n,r){var E;var i=!mt||(n&ci)!==0,l=(n&vi)!==0,s=r,o=!0,a=()=>(o&&(o=!1,s=r),s),u;{var d=Ge in e||zr in e;u=((E=lt(e,t))==null?void 0:E.set)??(d&&t in e?w=>e[t]=w:void 0)}var v,p=!1;[v,p]=ml(()=>e[t]);var h;if(i?h=()=>{var w=e[t];return w===void 0?a():(o=!0,w)}:h=()=>{var w=e[t];return w!==void 0&&(s=void 0),w===void 0?s:w},i&&(n&di)===0)return h;if(u){var c=e.$$legacy;return(function(w,S){return arguments.length>0?((!i||!S||c||p)&&u(S?h():w),w):h()})}var b=!1,g=rn(()=>(b=!1,h()));m(g);var T=x;return(function(w,S){if(arguments.length>0){const O=S?m(g):i&&l?$e(w):w;return P(g,O),b=!0,s!==void 0&&(s=O),w}return ze&&b||(T.f&Ze)!==0?g.v:m(g)})}function bl(e){L===null&&or(),mt&&L.l!==null?yl(L).m.push(e):yn(()=>{const t=ue(e);if(typeof t=="function")return t})}function wl(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Fr(){const e=L;return e===null&&or(),(t,n,r)=>{var l;const i=(l=e.s.$$events)==null?void 0:l[t];if(i){const s=Lt(i)?i.slice():[i],o=wl(t,n,r);for(const a of s)a.call(e.x,o);return!o.defaultPrevented}return!0}}function yl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const El="5";var ir;typeof window<"u"&&((ir=window.__svelte??(window.__svelte={})).v??(ir.v=new Set)).add(El);yi();const tr="AAAAAAAAABBCCDDDDEEEEEEEEEEEEFFGGGHHIIIIIIIIIJKLLLLMMNNNNNNOOOOOOOOPPQRRRRRRSSSSTTTTTTUUUUVVWWXYYZ**".split(""),f=$e({currentWord:"",selectedTiles:[],usedWords:[],totalScore:0,wordList:new Set,layers:[],feedback:"",feedbackColor:"black",swapsRemaining:3,swapMode:!1,gameOver:!1,finalScore:0,penaltyScore:0,showEndGameConfirmation:!1});let nr=[],ge=[];function Tl(){fetch("./wordlist.txt").then(e=>e.text()).then(e=>{f.wordList=new Set(e.split(`
`).map(t=>t.trim().toUpperCase())),console.log("Wordlist loaded:",f.wordList.size,"words")}).catch(e=>console.error("Error loading wordlist:",e)),f.layers=Sl()}function Sl(){const e=[{size:4,offset:0,tiles:[]},{size:3,offset:1,tiles:[]},{size:2,offset:2,tiles:[]}],t=new Map,n=[...tr];if(nr=[...tr],e.forEach((r,i)=>{for(let l=r.offset;l<r.size*2+r.offset;l+=2)for(let s=r.offset;s<r.size*2+r.offset;s+=2){const o=n.length>0?n.splice(Math.floor(Math.random()*n.length),1)[0]:"*",a=[[s,l,i],[s+1,l,i],[s,l+1,i],[s+1,l+1,i]];for(const d of a)t.set(JSON.stringify(d),o);const u={id:`${s}-${l}-${i}`,letter:o,coords:a,parentCoords:i>0?[[s,l,i-1],[s+1,l,i-1],[s,l+1,i-1],[s+1,l+1,i-1]]:void 0,selected:!1,visible:i===0,selectable:i===0,layer:i,position:{x:s,y:l}};r.tiles.push(u)}}),ge=[...n],ge.length<20){const r=nr.slice(0,20-ge.length);ge.push(...r)}return console.log("Swap pool created with",ge.length,"tiles:",ge.slice(0,10),"..."),e}function Ur(e){if(!e.parentCoords||e.parentCoords.length===0)return e.visible;for(const t of e.parentCoords)if(f.layers.some(r=>r.tiles.some(i=>i.coords.some(l=>l[0]===t[0]&&l[1]===t[1]&&l[2]===t[2]))))return!1;return e.visible}function an(e){var t;if(!e.visible||Ur(e)||!e.parentCoords||e.parentCoords.length===0)return!1;for(const n of e.parentCoords){const r=(t=f.layers.find(i=>i.tiles.find(l=>l.coords.some(s=>s[0]===n[0]&&s[1]===n[1]&&s[2]===n[2]))))==null?void 0:t.tiles.find(i=>i.coords.some(l=>l[0]===n[0]&&l[1]===n[1]&&l[2]===n[2]));if(r&&!r.selected)return!1}return!0}function kl(){f.layers.forEach(e=>{e.tiles.forEach(t=>{if(t.layer>0){const n=!t.parentCoords||t.parentCoords.some(r=>!f.layers.some(i=>i.tiles.some(l=>l.coords.some(s=>s[0]===r[0]&&s[1]===r[1]&&s[2]===r[2]))));t.visible=n}t.selectable=Ur(t)})})}function Cl(e){if(f.swapMode){if(!e.selectable){f.feedback="Can only swap available tiles, not temp-selectable ones",f.feedbackColor="red";return}Nl(e);return}if(!(!e.selectable&&!an(e)))if(e.selected){e.selected=!1;const t=f.selectedTiles.findIndex(n=>n.id===e.id);t!==-1&&(f.selectedTiles.splice(t,1),f.currentWord=f.currentWord.slice(0,t)+f.currentWord.slice(t+1)),jr()}else e.selected=!0,f.selectedTiles.push(e),f.currentWord+=e.letter}function jr(){const e=f.selectedTiles.filter(t=>!t.selectable&&t.selected);for(const t of e)if(!an(t)){t.selected=!1;const n=f.selectedTiles.findIndex(r=>r.id===t.id);n!==-1&&(f.selectedTiles.splice(n,1),f.currentWord=f.currentWord.slice(0,n)+f.currentWord.slice(n+1))}}function xl(){var t;const e=f.selectedTiles.filter(n=>!n.selectable&&an(n));for(const n of e)if(!(!n.parentCoords||n.parentCoords.length===0))for(const r of n.parentCoords){const i=(t=f.layers.find(l=>l.tiles.find(s=>s.coords.some(o=>o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]))))==null?void 0:t.tiles.find(l=>l.coords.some(s=>s[0]===r[0]&&s[1]===r[1]&&s[2]===r[2]));if(i&&!f.selectedTiles.includes(i))return{valid:!1,error:`Cannot use ${n.letter} - all covering tiles must be used in the same word`}}return{valid:!0,error:""}}function Ft(){if(f.currentWord.length===0||f.gameOver)return;const e=xl();if(!e.valid){f.feedback=e.error,f.feedbackColor="red";return}const t=f.currentWord.toUpperCase();if(Ol(t).some(i=>f.wordList.has(i))){const i=Yr(f.currentWord.toUpperCase());f.totalScore+=i,f.usedWords.push({word:f.currentWord.toUpperCase(),score:i}),f.feedback=`"${f.currentWord}" is a valid word!`,f.feedbackColor="green",f.selectedTiles.forEach(l=>{const s=f.layers[l.layer],o=s.tiles.findIndex(a=>a.id===l.id);o!==-1&&s.tiles.splice(o,1)}),f.layers=[...f.layers],kl()}else f.feedback=`"${f.currentWord}" is not a valid word.`,f.feedbackColor="red";it()}function it(){f.selectedTiles.forEach(e=>{e.selected=!1}),f.selectedTiles=[],f.currentWord=""}function Ol(e){const t=[];for(let l=0;l<e.length;l++)e[l]==="*"&&t.push(l);if(t.length===0)return[e];const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[];function i(l,s){if(s===t.length){r.push(l.join(""));return}const o=t[s];for(const a of n)l[o]=a,i(l,s+1);l[o]="*"}return i(e.split(""),0),r}function Yr(e){const t=e.length;if(t<=1)return 0;if(t===2)return 2;if(t===3)return 3;let n=2,r=3;for(let i=4;i<=t;i++){const l=n+r;n=r,r=l}return r}function rr(e,t){if(e===t||e<0||t<0||e>=f.selectedTiles.length||t>=f.selectedTiles.length)return;const n=[...f.selectedTiles],[r]=n.splice(e,1);n.splice(t,0,r),f.selectedTiles=n,f.currentWord=f.selectedTiles.map(i=>i.letter).join("")}function Al(e){if(e<0||e>=f.selectedTiles.length)return;const t=f.selectedTiles[e];t.selected=!1,f.selectedTiles.splice(e,1),f.currentWord=f.selectedTiles.map(n=>n.letter).join(""),jr()}function Ml(){return f.currentWord.length===0?0:Yr(f.currentWord.toUpperCase())}function cn(){if(f.swapsRemaining<=0){f.feedback="No swaps remaining!",f.feedbackColor="red";return}f.swapMode=!f.swapMode,f.swapMode?(f.feedback="Click a tile to swap it for a new one",f.feedbackColor="blue"):(f.feedback="Swap mode cancelled",f.feedbackColor="black")}function Nl(e){if(!f.swapMode||f.swapsRemaining<=0)return;if(ge.length===0){f.feedback="No more tiles available for swapping!",f.feedbackColor="red";return}const t=Math.floor(Math.random()*ge.length),n=ge.splice(t,1)[0];e.letter=n,f.swapsRemaining--,f.swapMode=!1,f.feedback=`Swapped to ${n}! ${f.swapsRemaining} swaps remaining (${ge.length} tiles left)`,f.feedbackColor="green"}function dn(){f.gameOver||(f.showEndGameConfirmation=!0)}function Ce(){f.showEndGameConfirmation=!1}function vn(){if(f.gameOver)return;const e=[];for(const t of f.layers)for(const n of t.tiles)e.push(n);f.penaltyScore=e.length*3,f.finalScore=f.totalScore-f.penaltyScore,f.gameOver=!0,f.showEndGameConfirmation=!1,it(),f.feedback=`Game Over! Final Score: ${f.finalScore} (${f.totalScore} - ${f.penaltyScore} penalty)`,f.feedbackColor=f.finalScore>=0?"green":"red"}function Rl(e){return e.visible?e.selected?"selected":an(e)?"temp-selectable":e.selectable?"available":"visible-unselectable":"hidden"}var Dl=G('<div role="button" tabindex="0"><div class="corner top-left svelte-1ctu6qg"> </div> <div class="corner top-right svelte-1ctu6qg"> </div> <div class="corner bottom-left svelte-1ctu6qg"> </div> <div class="corner bottom-right svelte-1ctu6qg"> </div></div>');function Ll(e,t){Je(t,!1);let n=Kt(t,"tile",8),r=Kt(t,"state",8);const i=Fr();function l(){i("click")}function s(){return`grid-row-start: ${n().position.x+1}; grid-column-start: ${n().position.y+1};`}wt();var o=Dl(),a=R(o),u=R(a),d=D(a,2),v=R(d),p=D(d,2),h=R(p),c=D(p,2),b=R(c);ye(g=>{Xt(o,1,`tile ${r()??""}`,"svelte-1ctu6qg"),$r(o,g),j(u,(rt(n()),ue(()=>n().letter))),j(v,(rt(n()),ue(()=>n().letter))),j(h,(rt(n()),ue(()=>n().letter))),j(b,(rt(n()),ue(()=>n().letter)))},[()=>ue(s)]),q("click",o,l),q("keydown",o,g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),l())}),Y(e,o),Qe()}var Pl=G('<div class="layer svelte-nkg03k"></div>'),ql=G('<div class="game-container svelte-nkg03k"></div>');function Il(e,t){Je(t,!1);function n(i){Cl(i)}wt();var r=ql();Ht(r,5,()=>f.layers.slice().reverse(),sl,(i,l)=>{var s=Pl();Ht(s,5,()=>m(l).tiles,o=>o.id,(o,a)=>{{let u=rn(()=>Rl(m(a)));Ll(o,{get tile(){return m(a)},get state(){return m(u)},$$events:{click:()=>n(m(a))}})}}),Y(i,s)}),Y(e,r),Qe()}var Wl=G('<div role="button" tabindex="0"> </div>');function $l(e,t){Je(t,!1);let n=Kt(t,"tile",8),r=Kt(t,"index",8);const i=Fr();let l=Ct(!1),s=!1,o=0,a=0,u=0,d=0,v=Ct();function p(S){P(l,!0),s=!1,o=S.clientX,a=S.clientY;const O=m(v).getBoundingClientRect();u=S.clientX-O.left-O.width/2,d=S.clientY-O.top-O.height/2,document.addEventListener("mousemove",h),document.addEventListener("mouseup",b),S.preventDefault()}function h(S){if(!m(l))return;const O=S.clientX-o,C=S.clientY-a;if(!s&&(Math.abs(O)>5||Math.abs(C)>5)&&(s=!0,i("dragstart",{index:r(),tile:n()})),s){const N=S.clientX-u,H=S.clientY-d;ke(v,m(v).style.position="fixed"),ke(v,m(v).style.left=`${N}px`),ke(v,m(v).style.top=`${H}px`),ke(v,m(v).style.pointerEvents="none")}}function c(){s&&i("dragover",{index:r(),tile:n()})}function b(S){m(l)&&(s&&i("dragend",{index:r(),tile:n()}),ke(v,m(v).style.position=""),ke(v,m(v).style.left=""),ke(v,m(v).style.top=""),ke(v,m(v).style.pointerEvents="")),P(l,!1),s=!1,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",b)}function g(){!m(l)&&!s&&i("click",{index:r(),tile:n()})}wt();var T=Wl();let E;var w=R(T);_l(T,S=>P(v,S),()=>m(v)),ye(S=>{E=Xt(T,1,"word-tile svelte-ylbhh0",null,E,S),j(w,(rt(n()),ue(()=>n().letter)))},[()=>({dragging:m(l)})]),q("mousedown",T,p),q("click",T,g),q("mouseenter",T,c),q("keydown",T,S=>{(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),g())}),Y(e,T),Qe()}var Fl=G('<div role="button" aria-label="Drop zone for reordering tiles" tabindex="-1"></div>'),Ul=G("<!> <!>",1),jl=G('<div class="potential-score svelte-1vjod2b"> </div>'),Yl=G('<div class="word-area svelte-1vjod2b" tabindex="0" role="group" aria-label="Word building area - press Enter to submit, Escape to clear" aria-live="polite"><div class="word-area-row svelte-1vjod2b"><div class="word-tiles-container svelte-1vjod2b"></div> <!></div> <p class="feedback svelte-1vjod2b"> </p> <div class="controls svelte-1vjod2b"><button class="svelte-1vjod2b">Clear</button> <button> </button> <button class="svelte-1vjod2b">Submit</button></div></div>');function Bl(e,t){Je(t,!1);let n=Ct(null),r=Ct(null);function i(){m(n)!==null&&(P(n,null),P(r,null))}function l(A){switch(A.key){case"Enter":A.preventDefault(),Ft();break;case"Escape":A.preventDefault(),it();break}}function s(A){P(n,A.detail.index),document.addEventListener("mouseup",i)}function o(A){m(n)!==null&&m(r)!==null&&m(n)!==m(r)&&rr(m(n),m(r)),P(n,null),P(r,null),document.removeEventListener("mouseup",i)}function a(A){m(n)!==null&&P(r,A)}function u(){}function d(A){m(n)!==null&&m(n)!==A&&rr(m(n),A),P(n,null),P(r,null),document.removeEventListener("mouseup",i)}function v(A){Al(A.detail.index)}wt();var p=Yl(),h=R(p),c=R(h);Ht(c,7,()=>f.selectedTiles,A=>A.id,(A,Te,ee)=>{var J=Ul(),yt=Er(J);$l(yt,{get tile(){return m(Te)},get index(){return m(ee)},$$events:{dragstart:s,dragend:o,click:v}});var Et=D(yt,2);{var qe=Ie=>{var We=Fl();let It;ye(Wt=>It=Xt(We,1,"drop-zone svelte-1vjod2b",null,It,Wt),[()=>({active:m(r)===m(ee)&&m(n)!==null&&m(n)!==m(ee)})]),q("mouseenter",We,()=>a(m(ee))),q("mouseleave",We,()=>void 0),q("mouseup",We,()=>d(m(ee))),Y(Ie,We)};Ot(Et,Ie=>{m(n)!==null&&Ie(qe)})}Y(A,J)});var b=D(c,2);{var g=A=>{var Te=jl(),ee=R(Te);ye(J=>j(ee,J),[Ml]),Y(A,Te)};Ot(b,A=>{f.currentWord.length>0&&A(g)})}var T=D(h,2),E=R(T),w=D(T,2),S=R(w),O=D(S,2);let C;var N=R(O),H=D(O,2);ye(A=>{$r(T,`color: ${f.feedbackColor??""}`),j(E,f.feedback),S.disabled=f.currentWord.length===0||f.gameOver,O.disabled=f.swapsRemaining<=0||f.gameOver,C=Xt(O,1,"svelte-1vjod2b",null,C,A),j(N,`Swap (${f.swapsRemaining??""})`),H.disabled=f.currentWord.length===0||f.gameOver},[()=>({"swap-mode":f.swapMode})]),q("click",S,function(...A){it==null||it.apply(this,A)}),q("click",O,function(...A){cn==null||cn.apply(this,A)}),q("click",H,function(...A){Ft==null||Ft.apply(this,A)}),q("keydown",p,l),Y(e,p),Qe()}var Vl=G('<h3 class="final-score svelte-25wfcq"> </h3> <div class="score-breakdown svelte-25wfcq"><div class="score-item svelte-25wfcq"><span class="label svelte-25wfcq">Words Score:</span> <span class="value svelte-25wfcq"> </span></div> <div class="score-item penalty svelte-25wfcq"><span class="label svelte-25wfcq"> </span> <span class="value svelte-25wfcq"> </span></div> <div class="score-item total svelte-25wfcq"><span class="label svelte-25wfcq">Final Score:</span> <span class="value svelte-25wfcq"> </span></div></div>',1),Gl=G('<h3 class="svelte-25wfcq"> </h3>'),Hl=G('<li class="svelte-25wfcq"> </li>'),Xl=G('<div class="word-list svelte-25wfcq"><ul class="svelte-25wfcq"></ul></div>'),Kl=G('<div class="score-container svelte-25wfcq"><!> <!></div>');function Zl(e,t){Je(t,!1),wt();var n=Kl(),r=R(n);{var i=a=>{var u=Vl(),d=Er(u),v=R(d),p=D(d,2),h=R(p),c=D(R(h),2),b=R(c),g=D(h,2),T=R(g),E=R(T),w=D(T,2),S=R(w),O=D(g,2),C=D(R(O),2),N=R(C);ye(()=>{j(v,`Final Score: ${f.finalScore??""}`),j(b,f.totalScore),j(E,`Penalty (${f.penaltyScore/3} remaining letters):`),j(S,`-${f.penaltyScore??""}`),j(N,f.finalScore)}),Y(a,u)},l=a=>{var u=Gl(),d=R(u);ye(()=>j(d,`Score: ${f.totalScore??""}`)),Y(a,u)};Ot(r,a=>{f.gameOver?a(i):a(l,!1)})}var s=D(r,2);{var o=a=>{var u=Xl(),d=R(u);Ht(d,5,()=>f.usedWords,v=>v.word,(v,p)=>{var h=Hl(),c=R(h);ye(()=>j(c,`${m(p).word??""} (${m(p).score??""})`)),Y(v,h)}),Y(a,u)};Ot(s,a=>{f.usedWords.length>0&&a(o)})}Y(e,n),Qe()}var Jl=G(`<div class="confirmation-overlay svelte-1n46o8q" role="dialog" aria-modal="true" aria-labelledby="dialog-title" tabindex="-1"><div class="confirmation-dialog svelte-1n46o8q" role="alertdialog" tabindex="0"><h3 id="dialog-title" class="svelte-1n46o8q">End Game?</h3> <p class="svelte-1n46o8q">Are you sure you want to end the game? You'll receive a penalty for any remaining letters.</p> <div class="confirmation-buttons svelte-1n46o8q"><button class="cancel-button svelte-1n46o8q">Cancel</button> <button class="confirm-button svelte-1n46o8q">End Game</button></div></div></div>`),Ql=G('<main class="svelte-1n46o8q"><img alt="Stacks Logo" class="svelte-1n46o8q"/> <!> <!> <!> <div class="bottom-controls svelte-1n46o8q"><button class="done-button svelte-1n46o8q">End Game</button></div> <!></main>');function zl(e,t){Je(t,!1);const n="./logo.svg";bl(()=>{Tl()}),wt();var r=Ql(),i=R(r);vl(i,"src",n);var l=D(i,2);Il(l,{});var s=D(l,2);Bl(s,{});var o=D(s,2);Zl(o,{});var a=D(o,2),u=R(a),d=D(a,2);{var v=p=>{var h=Jl(),c=R(h),b=D(R(c),4),g=R(b),T=D(g,2);q("click",g,function(...E){Ce==null||Ce.apply(this,E)}),q("click",T,function(...E){vn==null||vn.apply(this,E)}),q("click",c,pl(function(E){gl.call(this,t,E)})),q("keydown",c,E=>E.key==="Escape"&&Ce()),q("click",h,function(...E){Ce==null||Ce.apply(this,E)}),q("keydown",h,E=>E.key==="Escape"&&Ce()),Y(p,h)};Ot(d,p=>{f.showEndGameConfirmation&&p(v)})}ye(()=>u.disabled=f.gameOver),q("click",u,function(...p){dn==null||dn.apply(this,p)}),Y(e,r),Qe()}rl(zl,{target:document.getElementById("app")});
