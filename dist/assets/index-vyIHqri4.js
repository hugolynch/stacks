var jr=Object.defineProperty;var Un=e=>{throw TypeError(e)};var Yr=(e,t,n)=>t in e?jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ze=(e,t,n)=>Yr(e,typeof t!="symbol"?t+"":t,n),an=(e,t,n)=>t.has(e)||Un("Cannot "+n);var h=(e,t,n)=>(an(e,t,"read from private field"),n?n.call(e):t.get(e)),M=(e,t,n)=>t.has(e)?Un("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),y=(e,t,n,r)=>(an(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),F=(e,t,n)=>(an(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const rr=!1;var Dt=Array.isArray,Br=Array.prototype.indexOf,Sn=Array.from,vn=Object.defineProperty,it=Object.getOwnPropertyDescriptor,Vr=Object.getOwnPropertyDescriptors,Gr=Object.prototype,Hr=Array.prototype,ir=Object.getPrototypeOf,jn=Object.isExtensible;function Xr(e){return e()}function _n(e){for(var t=0;t<e.length;t++)e[t]()}function Kr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const z=2,kn=4,Qt=8,ht=16,ye=32,Xe=64,Cn=128,ie=256,Yt=512,$=1024,se=2048,Le=4096,ce=8192,Ke=16384,xn=32768,zt=65536,Yn=1<<17,Zr=1<<18,pt=1<<19,lr=1<<20,hn=1<<21,On=1<<22,Be=1<<23,Ve=Symbol("$state"),Jr=Symbol("legacy props"),An=new class extends Error{constructor(){super(...arguments);ze(this,"name","StaleReactionError");ze(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function sr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Qr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function zr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ei(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ti(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ni(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ri(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ii(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function li(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function si(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const en=1,tn=2,ar=4,ai=8,oi=16,fi=2,ui=4,ci=8,di=1,vi=2,W=Symbol(),_i="http://www.w3.org/1999/xhtml";function hi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let pi=!1;function or(e){return e===this.v}function gi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function fr(e){return!gi(e,this.v)}let gt=!1,mi=!1;function bi(){gt=!0}let L=null;function ct(e){L=e}function Ze(e,t=!1,n){L={p:L,c:null,e:null,s:e,x:null,l:gt&&!t?{s:null,u:null,$:[]}:null}}function Je(e){var t=L,n=t.e;if(n!==null){t.e=null;for(var r of n)Tr(r)}return L=t.p,{}}function Lt(){return!gt||L!==null&&L.l===null}let tt=[];function wi(){var e=tt;tt=[],_n(e)}function mt(e){if(tt.length===0){var t=tt;queueMicrotask(()=>{t===tt&&wi()})}tt.push(e)}const yi=new WeakMap;function ur(e){var t=x;if(t===null)return k.f|=Be,e;if((t.f&xn)===0){if((t.f&Cn)===0)throw!t.parent&&e instanceof Error&&cr(e),e;t.b.error(e)}else dt(e,t)}function dt(e,t){for(;t!==null;){if((t.f&Cn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&cr(e),e}function cr(e){const t=yi.get(e);t&&(vn(e,"message",{value:t.message}),vn(e,"stack",{value:t.stack}))}const on=new Set;let I=null,pn=new Set,St=[],Mn=null,gn=!1;var Ot,ot,Ce,At,Mt,$e,ft,Fe,xe,ut,Nt,Rt,de,dr,Ft,mn;const Kt=class Kt{constructor(){M(this,de);ze(this,"current",new Map);M(this,Ot,new Map);M(this,ot,new Set);M(this,Ce,0);M(this,At,null);M(this,Mt,!1);M(this,$e,[]);M(this,ft,[]);M(this,Fe,[]);M(this,xe,[]);M(this,ut,[]);M(this,Nt,[]);M(this,Rt,[]);ze(this,"skipped_effects",new Set)}process(t){var i;St=[];for(const l of t)F(this,de,dr).call(this,l);if(h(this,$e).length===0&&h(this,Ce)===0){F(this,de,mn).call(this);var n=h(this,Fe),r=h(this,xe);y(this,Fe,[]),y(this,xe,[]),y(this,ut,[]),I=null,Bn(n),Bn(r),I===null?I=this:on.delete(this),(i=h(this,At))==null||i.resolve()}else F(this,de,Ft).call(this,h(this,Fe)),F(this,de,Ft).call(this,h(this,xe)),F(this,de,Ft).call(this,h(this,ut));for(const l of h(this,$e))at(l);for(const l of h(this,ft))at(l);y(this,$e,[]),y(this,ft,[])}capture(t,n){h(this,Ot).has(t)||h(this,Ot).set(t,n),this.current.set(t,t.v)}activate(){I=this}deactivate(){I=null;for(const t of pn)if(pn.delete(t),t(),I!==null)break}neuter(){y(this,Mt,!0)}flush(){St.length>0?Ei():F(this,de,mn).call(this),I===this&&(h(this,Ce)===0&&on.delete(this),this.deactivate())}increment(){y(this,Ce,h(this,Ce)+1)}decrement(){if(y(this,Ce,h(this,Ce)-1),h(this,Ce)===0){for(const t of h(this,Nt))Z(t,se),vt(t);for(const t of h(this,Rt))Z(t,Le),vt(t);y(this,Fe,[]),y(this,xe,[]),this.flush()}else this.deactivate()}add_callback(t){h(this,ot).add(t)}settled(){return(h(this,At)??y(this,At,Kr())).promise}static ensure(){if(I===null){const t=I=new Kt;on.add(I),Kt.enqueue(()=>{I===t&&t.flush()})}return I}static enqueue(t){mt(t)}};Ot=new WeakMap,ot=new WeakMap,Ce=new WeakMap,At=new WeakMap,Mt=new WeakMap,$e=new WeakMap,ft=new WeakMap,Fe=new WeakMap,xe=new WeakMap,ut=new WeakMap,Nt=new WeakMap,Rt=new WeakMap,de=new WeakSet,dr=function(t){var d;t.f^=$;for(var n=t.first;n!==null;){var r=n.f,i=(r&(ye|Xe))!==0,l=i&&(r&$)!==0,s=l||(r&ce)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(i)n.f^=$;else if((r&kn)!==0)h(this,xe).push(n);else if((r&$)===0)if((r&On)!==0){var o=(d=n.b)!=null&&d.is_pending()?h(this,ft):h(this,$e);o.push(n)}else ln(n)&&((n.f&ht)!==0&&h(this,ut).push(n),at(n));var a=n.first;if(a!==null){n=a;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Ft=function(t){for(const n of t)((n.f&se)!==0?h(this,Nt):h(this,Rt)).push(n),Z(n,$);t.length=0},mn=function(){if(!h(this,Mt))for(const t of h(this,ot))t();h(this,ot).clear()};let Re=Kt;function Ei(){var e=st;gn=!0;try{var t=0;for(Gn(!0);St.length>0;){var n=Re.ensure();if(t++>1e3){var r,i;Ti()}n.process(St),De.clear()}}finally{gn=!1,Gn(e),Mn=null}}function Ti(){try{ni()}catch(e){dt(e,Mn)}}let be=null;function Bn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ke|ce))===0&&ln(r)&&(be=[],at(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?xr(r):r.fn=null),(be==null?void 0:be.length)>0)){De.clear();for(const i of be)at(i);be=[]}}be=null}}function vt(e){for(var t=Mn=e;t.parent!==null;){t=t.parent;var n=t.f;if(gn&&t===x&&(n&ht)!==0)return;if((n&(Xe|ye))!==0){if((n&$)===0)return;t.f^=$}}St.push(t)}function Si(e){let t=0,n=He(0),r;return()=>{Ii()&&(m(n),Sr(()=>(t===0&&(r=ue(()=>e(()=>Tt(n)))),t+=1,()=>{mt(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Tt(n))})})))}}var ki=zt|pt|Cn;function Ci(e,t,n){new xi(e,t,n)}var ae,ne,Tn,_e,Ue,he,re,X,pe,Oe,je,Ae,Ye,Me,Zt,Jt,V,Oi,Ai,Ut,jt,bn;class xi{constructor(t,n,r){M(this,V);ze(this,"parent");M(this,ae,!1);M(this,ne);M(this,Tn,null);M(this,_e);M(this,Ue);M(this,he);M(this,re,null);M(this,X,null);M(this,pe,null);M(this,Oe,null);M(this,je,0);M(this,Ae,0);M(this,Ye,!1);M(this,Me,null);M(this,Zt,()=>{h(this,Me)&&_t(h(this,Me),h(this,je))});M(this,Jt,Si(()=>(y(this,Me,He(h(this,je))),()=>{y(this,Me,null)})));y(this,ne,t),y(this,_e,n),y(this,Ue,r),this.parent=x.b,y(this,ae,!!h(this,_e).pending),y(this,he,Ln(()=>{x.b=this;{try{y(this,re,oe(()=>r(h(this,ne))))}catch(i){this.error(i)}h(this,Ae)>0?F(this,V,jt).call(this):y(this,ae,!1)}},ki))}is_pending(){return h(this,ae)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!h(this,_e).pending}update_pending_count(t){F(this,V,bn).call(this,t),y(this,je,h(this,je)+t),pn.add(h(this,Zt))}get_effect_pending(){return h(this,Jt).call(this),m(h(this,Me))}error(t){var n=h(this,_e).onerror;let r=h(this,_e).failed;if(h(this,Ye)||!n&&!r)throw t;h(this,re)&&(le(h(this,re)),y(this,re,null)),h(this,X)&&(le(h(this,X)),y(this,X,null)),h(this,pe)&&(le(h(this,pe)),y(this,pe,null));var i=!1,l=!1;const s=()=>{if(i){hi();return}i=!0,l&&si(),Re.ensure(),y(this,je,0),h(this,pe)!==null&&lt(h(this,pe),()=>{y(this,pe,null)}),y(this,ae,this.has_pending_snippet()),y(this,re,F(this,V,Ut).call(this,()=>(y(this,Ye,!1),oe(()=>h(this,Ue).call(this,h(this,ne)))))),h(this,Ae)>0?F(this,V,jt).call(this):y(this,ae,!1)};var o=k;try{K(null),l=!0,n==null||n(t,s),l=!1}catch(a){dt(a,h(this,he)&&h(this,he).parent)}finally{K(o)}r&&mt(()=>{y(this,pe,F(this,V,Ut).call(this,()=>{y(this,Ye,!0);try{return oe(()=>{r(h(this,ne),()=>t,()=>s)})}catch(a){return dt(a,h(this,he).parent),null}finally{y(this,Ye,!1)}}))})}}ae=new WeakMap,ne=new WeakMap,Tn=new WeakMap,_e=new WeakMap,Ue=new WeakMap,he=new WeakMap,re=new WeakMap,X=new WeakMap,pe=new WeakMap,Oe=new WeakMap,je=new WeakMap,Ae=new WeakMap,Ye=new WeakMap,Me=new WeakMap,Zt=new WeakMap,Jt=new WeakMap,V=new WeakSet,Oi=function(){try{y(this,re,oe(()=>h(this,Ue).call(this,h(this,ne))))}catch(t){this.error(t)}y(this,ae,!1)},Ai=function(){const t=h(this,_e).pending;t&&(y(this,X,oe(()=>t(h(this,ne)))),Re.enqueue(()=>{y(this,re,F(this,V,Ut).call(this,()=>(Re.ensure(),oe(()=>h(this,Ue).call(this,h(this,ne)))))),h(this,Ae)>0?F(this,V,jt).call(this):(lt(h(this,X),()=>{y(this,X,null)}),y(this,ae,!1))}))},Ut=function(t){var n=x,r=k,i=L;ge(h(this,he)),K(h(this,he)),ct(h(this,he).ctx);try{return t()}catch(l){return ur(l),null}finally{ge(n),K(r),ct(i)}},jt=function(){const t=h(this,_e).pending;h(this,re)!==null&&(y(this,Oe,document.createDocumentFragment()),Mi(h(this,re),h(this,Oe))),h(this,X)===null&&y(this,X,oe(()=>t(h(this,ne))))},bn=function(t){var n;if(!this.has_pending_snippet()){this.parent&&F(n=this.parent,V,bn).call(n,t);return}y(this,Ae,h(this,Ae)+t),h(this,Ae)===0&&(y(this,ae,!1),h(this,X)&&lt(h(this,X),()=>{y(this,X,null)}),h(this,Oe)&&(h(this,ne).before(h(this,Oe)),y(this,Oe,null)))};function Mi(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:qt(n);t.append(n),n=i}}function Ni(e,t,n){const r=Lt()?Nn:nn;if(t.length===0){n(e.map(r));return}var i=I,l=x,s=Ri();Promise.all(t.map(o=>Di(o))).then(o=>{i==null||i.activate(),s();try{n([...e.map(r),...o])}catch(a){(l.f&Ke)===0&&dt(a,l)}i==null||i.deactivate(),vr()}).catch(o=>{dt(o,l)})}function Ri(){var e=x,t=k,n=L,r=I;return function(){ge(e),K(t),ct(n),r==null||r.activate()}}function vr(){ge(null),K(null),ct(null)}function Nn(e){var t=z|se,n=k!==null&&(k.f&z)!==0?k:null;return x===null||n!==null&&(n.f&ie)!==0?t|=ie:x.f|=pt,{ctx:L,deps:null,effects:null,equals:or,f:t,fn:e,reactions:null,rv:0,v:W,wv:0,parent:n??x,ac:null}}function Di(e,t){let n=x;n===null&&Qr();var r=n.b,i=void 0,l=He(W),s=null,o=!k;return Yi(()=>{try{var a=e();s&&Promise.resolve(a).catch(()=>{})}catch(_){a=Promise.reject(_)}var u=()=>a;i=(s==null?void 0:s.then(u,u))??Promise.resolve(a),s=i;var d=I,v=r.is_pending();o&&(r.update_pending_count(1),v||d.increment());const p=(_,c=void 0)=>{s=null,v||d.activate(),c?c!==An&&(l.f|=Be,_t(l,c)):((l.f&Be)!==0&&(l.f^=Be),_t(l,_)),o&&(r.update_pending_count(-1),v||d.decrement()),vr()};if(i.then(p,_=>p(null,_||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(a=>{function u(d){function v(){d===i?a(l):u(i)}d.then(v,v)}u(i)})}function nn(e){const t=Nn(e);return t.equals=fr,t}function _r(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)le(t[n])}}function Li(e){for(var t=e.parent;t!==null;){if((t.f&z)===0)return t;t=t.parent}return null}function Rn(e){var t,n=x;ge(Li(e));try{_r(e),t=Dr(e)}finally{ge(n)}return t}function hr(e){var t=Rn(e);if(e.equals(t)||(e.v=t,e.wv=Nr()),!Qe){var n=(Ne||(e.f&ie)!==0)&&e.deps!==null?Le:$;Z(e,n)}}const De=new Map;function He(e,t){var n={f:0,v:e,reactions:null,equals:or,rv:0,wv:0};return n}function Te(e,t){const n=He(e);return Gi(n),n}function kt(e,t=!1,n=!0){var i;const r=He(e);return t||(r.equals=fr),gt&&n&&L!==null&&L.l!==null&&((i=L.l).s??(i.s=[])).push(r),r}function Se(e,t){return q(e,ue(()=>m(e))),t}function q(e,t,n=!1){k!==null&&(!fe||(k.f&Yn)!==0)&&Lt()&&(k.f&(z|ht|On|Yn))!==0&&!(B!=null&&B.includes(e))&&li();let r=n?Ie(t):t;return _t(e,r)}function _t(e,t){if(!e.equals(t)){var n=e.v;Qe?De.set(e,t):De.set(e,n),e.v=t;var r=Re.ensure();r.capture(e,n),(e.f&z)!==0&&((e.f&se)!==0&&Rn(e),Z(e,(e.f&ie)===0?$:Le)),e.wv=Nr(),pr(e,se),Lt()&&x!==null&&(x.f&$)!==0&&(x.f&(ye|Xe))===0&&(te===null?Hi([e]):te.push(e))}return t}function Tt(e){q(e,e.v+1)}function pr(e,t){var n=e.reactions;if(n!==null)for(var r=Lt(),i=n.length,l=0;l<i;l++){var s=n[l],o=s.f;if(!(!r&&s===x)){var a=(o&se)===0;a&&Z(s,t),(o&z)!==0?pr(s,Le):a&&((o&ht)!==0&&be!==null&&be.push(s),vt(s))}}}function Ie(e){if(typeof e!="object"||e===null||Ve in e)return e;const t=ir(e);if(t!==Gr&&t!==Hr)return e;var n=new Map,r=Dt(e),i=Te(0),l=Ge,s=o=>{if(Ge===l)return o();var a=k,u=Ge;K(null),Xn(l);var d=o();return K(a),Xn(u),d};return r&&n.set("length",Te(e.length)),new Proxy(e,{defineProperty(o,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ri();var d=n.get(a);return d===void 0?d=s(()=>{var v=Te(u.value);return n.set(a,v),v}):q(d,u.value,!0),!0},deleteProperty(o,a){var u=n.get(a);if(u===void 0){if(a in o){const d=s(()=>Te(W));n.set(a,d),Tt(i)}}else q(u,W),Tt(i);return!0},get(o,a,u){var _;if(a===Ve)return e;var d=n.get(a),v=a in o;if(d===void 0&&(!v||(_=it(o,a))!=null&&_.writable)&&(d=s(()=>{var c=Ie(v?o[a]:W),b=Te(c);return b}),n.set(a,d)),d!==void 0){var p=m(d);return p===W?void 0:p}return Reflect.get(o,a,u)},getOwnPropertyDescriptor(o,a){var u=Reflect.getOwnPropertyDescriptor(o,a);if(u&&"value"in u){var d=n.get(a);d&&(u.value=m(d))}else if(u===void 0){var v=n.get(a),p=v==null?void 0:v.v;if(v!==void 0&&p!==W)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return u},has(o,a){var p;if(a===Ve)return!0;var u=n.get(a),d=u!==void 0&&u.v!==W||Reflect.has(o,a);if(u!==void 0||x!==null&&(!d||(p=it(o,a))!=null&&p.writable)){u===void 0&&(u=s(()=>{var _=d?Ie(o[a]):W,c=Te(_);return c}),n.set(a,u));var v=m(u);if(v===W)return!1}return d},set(o,a,u,d){var w;var v=n.get(a),p=a in o;if(r&&a==="length")for(var _=u;_<v.v;_+=1){var c=n.get(_+"");c!==void 0?q(c,W):_ in o&&(c=s(()=>Te(W)),n.set(_+"",c))}if(v===void 0)(!p||(w=it(o,a))!=null&&w.writable)&&(v=s(()=>Te(void 0)),q(v,Ie(u)),n.set(a,v));else{p=v.v!==W;var b=s(()=>Ie(u));q(v,b)}var g=Reflect.getOwnPropertyDescriptor(o,a);if(g!=null&&g.set&&g.set.call(d,u),!p){if(r&&typeof a=="string"){var T=n.get("length"),E=Number(a);Number.isInteger(E)&&E>=T.v&&q(T,E+1)}Tt(i)}return!0},ownKeys(o){m(i);var a=Reflect.ownKeys(o).filter(v=>{var p=n.get(v);return p===void 0||p.v!==W});for(var[u,d]of n)d.v!==W&&!(u in o)&&a.push(u);return a},setPrototypeOf(){ii()}})}var Vn,gr,mr,br;function qi(){if(Vn===void 0){Vn=window,gr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;mr=it(t,"firstChild").get,br=it(t,"nextSibling").get,jn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),jn(n)&&(n.__t=void 0)}}function rn(e=""){return document.createTextNode(e)}function Bt(e){return mr.call(e)}function qt(e){return br.call(e)}function R(e,t){return Bt(e)}function wr(e,t=!1){{var n=Bt(e);return n instanceof Comment&&n.data===""?qt(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=qt(r);return r}function Pi(e){e.textContent=""}function yr(){return!1}function Dn(e){var t=k,n=x;K(null),ge(null);try{return e()}finally{K(t),ge(n)}}function Er(e){x===null&&k===null&&ti(),k!==null&&(k.f&ie)!==0&&x===null&&ei(),Qe&&zr()}function Wi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function me(e,t,n,r=!0){var i=x;i!==null&&(i.f&ce)!==0&&(e|=ce);var l={ctx:L,deps:null,nodes_start:null,nodes_end:null,f:e|se,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{at(l),l.f|=xn}catch(a){throw le(l),a}else t!==null&&vt(l);if(r){var s=l;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&pt)===0&&(s=s.first),s!==null&&(s.parent=i,i!==null&&Wi(s,i),k!==null&&(k.f&z)!==0&&(e&Xe)===0)){var o=k;(o.effects??(o.effects=[])).push(s)}}return l}function Ii(){return k!==null&&!fe}function $i(e){const t=me(Qt,null,!1);return Z(t,$),t.teardown=e,t}function wn(e){Er();var t=x.f,n=!k&&(t&ye)!==0&&(t&xn)===0;if(n){var r=L;(r.e??(r.e=[])).push(e)}else return Tr(e)}function Tr(e){return me(kn|lr,e,!1)}function Fi(e){return Er(),me(Qt|lr,e,!0)}function Ui(e){Re.ensure();const t=me(Xe|pt,e,!0);return(n={})=>new Promise(r=>{n.outro?lt(t,()=>{le(t),r(void 0)}):(le(t),r(void 0))})}function ji(e){return me(kn,e,!1)}function Yi(e){return me(On|pt,e,!0)}function Sr(e,t=0){return me(Qt|t,e,!0)}function we(e,t=[],n=[]){Ni(t,n,r=>{me(Qt,()=>e(...r.map(m)),!0)})}function Ln(e,t=0){var n=me(ht|t,e,!0);return n}function oe(e,t=!0){return me(ye|pt,e,!0,t)}function kr(e){var t=e.teardown;if(t!==null){const n=Qe,r=k;Hn(!0),K(null);try{t.call(null)}finally{Hn(n),K(r)}}}function Cr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Dn(()=>{i.abort(An)});var r=n.next;(n.f&Xe)!==0?n.parent=null:le(n,t),n=r}}function Bi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ye)===0&&le(t),t=n}}function le(e,t=!0){var n=!1;(t||(e.f&Zr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Vi(e.nodes_start,e.nodes_end),n=!0),Cr(e,t&&!n),Vt(e,0),Z(e,Ke);var r=e.transitions;if(r!==null)for(const l of r)l.stop();kr(e);var i=e.parent;i!==null&&i.first!==null&&xr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Vi(e,t){for(;e!==null;){var n=e===t?null:qt(e);e.remove(),e=n}}function xr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function lt(e,t){var n=[];qn(e,n,!0),Or(n,()=>{le(e),t&&t()})}function Or(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function qn(e,t,n){if((e.f&ce)===0){if(e.f^=ce,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&zt)!==0||(r.f&ye)!==0;qn(r,t,l?n:!1),r=i}}}function Pn(e){Ar(e,!0)}function Ar(e,t){if((e.f&ce)!==0){e.f^=ce,(e.f&$)===0&&(Z(e,se),vt(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&zt)!==0||(n.f&ye)!==0;Ar(n,i?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let st=!1;function Gn(e){st=e}let Qe=!1;function Hn(e){Qe=e}let k=null,fe=!1;function K(e){k=e}let x=null;function ge(e){x=e}let B=null;function Gi(e){k!==null&&(B===null?B=[e]:B.push(e))}let U=null,Q=0,te=null;function Hi(e){te=e}let Mr=1,Ct=0,Ge=Ct;function Xn(e){Ge=e}let Ne=!1;function Nr(){return++Mr}function ln(e){var v;var t=e.f;if((t&se)!==0)return!0;if((t&Le)!==0){var n=e.deps,r=(t&ie)!==0;if(n!==null){var i,l,s=(t&Yt)!==0,o=r&&x!==null&&!Ne,a=n.length;if((s||o)&&(x===null||(x.f&Ke)===0)){var u=e,d=u.parent;for(i=0;i<a;i++)l=n[i],(s||!((v=l==null?void 0:l.reactions)!=null&&v.includes(u)))&&(l.reactions??(l.reactions=[])).push(u);s&&(u.f^=Yt),o&&d!==null&&(d.f&ie)===0&&(u.f^=ie)}for(i=0;i<a;i++)if(l=n[i],ln(l)&&hr(l),l.wv>e.wv)return!0}(!r||x!==null&&!Ne)&&Z(e,$)}return!1}function Rr(e,t,n=!0){var r=e.reactions;if(r!==null&&!(B!=null&&B.includes(e)))for(var i=0;i<r.length;i++){var l=r[i];(l.f&z)!==0?Rr(l,t,!1):t===l&&(n?Z(l,se):(l.f&$)!==0&&Z(l,Le),vt(l))}}function Dr(e){var b;var t=U,n=Q,r=te,i=k,l=Ne,s=B,o=L,a=fe,u=Ge,d=e.f;U=null,Q=0,te=null,Ne=(d&ie)!==0&&(fe||!st||k===null),k=(d&(ye|Xe))===0?e:null,B=null,ct(e.ctx),fe=!1,Ge=++Ct,e.ac!==null&&(Dn(()=>{e.ac.abort(An)}),e.ac=null);try{e.f|=hn;var v=e.fn,p=v(),_=e.deps;if(U!==null){var c;if(Vt(e,Q),_!==null&&Q>0)for(_.length=Q+U.length,c=0;c<U.length;c++)_[Q+c]=U[c];else e.deps=_=U;if(!Ne||(d&z)!==0&&e.reactions!==null)for(c=Q;c<_.length;c++)((b=_[c]).reactions??(b.reactions=[])).push(e)}else _!==null&&Q<_.length&&(Vt(e,Q),_.length=Q);if(Lt()&&te!==null&&!fe&&_!==null&&(e.f&(z|Le|se))===0)for(c=0;c<te.length;c++)Rr(te[c],e);return i!==null&&i!==e&&(Ct++,te!==null&&(r===null?r=te:r.push(...te))),(e.f&Be)!==0&&(e.f^=Be),p}catch(g){return ur(g)}finally{e.f^=hn,U=t,Q=n,te=r,k=i,Ne=l,B=s,ct(o),fe=a,Ge=u}}function Xi(e,t){let n=t.reactions;if(n!==null){var r=Br.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&z)!==0&&(U===null||!U.includes(t))&&(Z(t,Le),(t.f&(ie|Yt))===0&&(t.f^=Yt),_r(t),Vt(t,0))}function Vt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Xi(e,n[r])}function at(e){var t=e.f;if((t&Ke)===0){Z(e,$);var n=x,r=st;x=e,st=!0;try{(t&ht)!==0?Bi(e):Cr(e),kr(e);var i=Dr(e);e.teardown=typeof i=="function"?i:null,e.wv=Mr;var l;rr&&mi&&(e.f&se)!==0&&e.deps}finally{st=r,x=n}}}function m(e){var t=e.f,n=(t&z)!==0;if(k!==null&&!fe){var r=x!==null&&(x.f&Ke)!==0;if(!r&&!(B!=null&&B.includes(e))){var i=k.deps;if((k.f&hn)!==0)e.rv<Ct&&(e.rv=Ct,U===null&&i!==null&&i[Q]===e?Q++:U===null?U=[e]:(!Ne||!U.includes(e))&&U.push(e));else{(k.deps??(k.deps=[])).push(e);var l=e.reactions;l===null?e.reactions=[k]:l.includes(k)||l.push(k)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,o=s.parent;o!==null&&(o.f&ie)===0&&(s.f^=ie)}if(Qe){if(De.has(e))return De.get(e);if(n){s=e;var a=s.v;return((s.f&$)===0&&s.reactions!==null||Lr(s))&&(a=Rn(s)),De.set(s,a),a}}else n&&(s=e,ln(s)&&hr(s));if((e.f&Be)!==0)throw e.v;return e.v}function Lr(e){if(e.v===W)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(De.has(t)||(t.f&z)!==0&&Lr(t))return!0;return!1}function ue(e){var t=fe;try{return fe=!0,e()}finally{fe=t}}const Ki=-7169;function Z(e,t){e.f=e.f&Ki|t}function nt(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ve in e)yn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ve in n&&yn(n)}}}function yn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{yn(e[r],t)}catch{}const n=ir(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Vr(n);for(let i in r){const l=r[i].get;if(l)try{l.call(e)}catch{}}}}}const Zi=["touchstart","touchmove"];function Ji(e){return Zi.includes(e)}const Qi=new Set,Kn=new Set;function zi(e,t,n,r={}){function i(l){if(r.capture||Et.call(t,l),!l.cancelBubble)return Dn(()=>n==null?void 0:n.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?mt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function P(e,t,n,r,i){var l={capture:r,passive:i},s=zi(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&$i(()=>{t.removeEventListener(e,s,l)})}let Zn=null;function Et(e){var E;var t=this,n=t.ownerDocument,r=e.type,i=((E=e.composedPath)==null?void 0:E.call(e))||[],l=i[0]||e.target;Zn=e;var s=0,o=Zn===e&&e.__root;if(o){var a=i.indexOf(o);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;a<=u&&(s=a)}if(l=i[s]||e.target,l!==t){vn(e,"currentTarget",{configurable:!0,get(){return l||n}});var d=k,v=x;K(null),ge(null);try{for(var p,_=[];l!==null;){var c=l.assignedSlot||l.parentNode||l.host||null;try{var b=l["__"+r];if(b!=null&&(!l.disabled||e.target===l))if(Dt(b)){var[g,...T]=b;g.apply(l,[e,...T])}else b.call(l,e)}catch(w){p?_.push(w):p=w}if(e.cancelBubble||c===t||c===null)break;l=c}if(p){for(let w of _)queueMicrotask(()=>{throw w});throw p}}finally{e.__root=t,delete e.currentTarget,K(d),ge(v)}}}function el(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Jn(e,t){var n=x;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function G(e,t){var n=(t&di)!==0,r=(t&vi)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=el(l?e:"<!>"+e),n||(i=Bt(i)));var s=r||gr?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Bt(s),a=s.lastChild;Jn(o,a)}else Jn(s,s);return s}}function Y(e,t){e!==null&&e.before(t)}function j(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function tl(e,t){return nl(e,t)}const et=new Map;function nl(e,{target:t,anchor:n,props:r={},events:i,context:l,intro:s=!0}){qi();var o=new Set,a=v=>{for(var p=0;p<v.length;p++){var _=v[p];if(!o.has(_)){o.add(_);var c=Ji(_);t.addEventListener(_,Et,{passive:c});var b=et.get(_);b===void 0?(document.addEventListener(_,Et,{passive:c}),et.set(_,1)):et.set(_,b+1)}}};a(Sn(Qi)),Kn.add(a);var u=void 0,d=Ui(()=>{var v=n??t.appendChild(rn());return Ci(v,{pending:()=>{}},p=>{if(l){Ze({});var _=L;_.c=l}i&&(r.$$events=i),u=e(p,r)||{},l&&Je()}),()=>{var c;for(var p of o){t.removeEventListener(p,Et);var _=et.get(p);--_===0?(document.removeEventListener(p,Et),et.delete(p)):et.set(p,_)}Kn.delete(a),v!==n&&((c=v.parentNode)==null||c.removeChild(v))}});return rl.set(u,d),u}let rl=new WeakMap;function xt(e,t,n=!1){var r=e,i=null,l=null,s=W,o=n?zt:0,a=!1;const u=(_,c=!0)=>{a=!0,p(c,_)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var _=s?i:l,c=s?l:i;_&&Pn(_),c&&lt(c,()=>{s?l=null:i=null})}const p=(_,c)=>{if(s!==(s=_)){var b=yr(),g=r;if(b&&(d=document.createDocumentFragment(),d.append(g=rn())),s?i??(i=c&&oe(()=>c(g))):l??(l=c&&oe(()=>c(g))),b){var T=I,E=s?i:l,w=s?l:i;E&&T.skipped_effects.delete(E),w&&T.skipped_effects.add(w),T.add_callback(v)}else v()}};Ln(()=>{a=!1,t(u),a||p(null,null)},o)}function il(e,t){return t}function ll(e,t,n){for(var r=e.items,i=[],l=t.length,s=0;s<l;s++)qn(t[s].e,i,!0);var o=l>0&&i.length===0&&n!==null;if(o){var a=n.parentNode;Pi(a),a.append(n),r.clear(),ve(e,t[0].prev,t[l-1].next)}Or(i,()=>{for(var u=0;u<l;u++){var d=t[u];o||(r.delete(d.k),ve(e,d.prev,d.next)),le(d.e,!o)}})}function Gt(e,t,n,r,i,l=null){var s=e,o={flags:t,items:new Map,first:null},a=(t&ar)!==0;if(a){var u=e;s=u.appendChild(rn())}var d=null,v=!1,p=new Map,_=nn(()=>{var T=n();return Dt(T)?T:T==null?[]:Sn(T)}),c,b;function g(){sl(b,c,o,p,s,i,t,r,n),l!==null&&(c.length===0?d?Pn(d):d=oe(()=>l(s)):d!==null&&lt(d,()=>{d=null}))}Ln(()=>{b??(b=x),c=m(_);var T=c.length;if(!(v&&T===0)){v=T===0;var E,w,S,O;if(yr()){var C=new Set,N=I;for(w=0;w<T;w+=1){S=c[w],O=r(S,w);var H=o.items.get(O)??p.get(O);H?(t&(en|tn))!==0&&qr(H,S,w,t):(E=Pr(null,o,null,null,S,O,w,i,t,n,!0),p.set(O,E)),C.add(O)}for(const[A,Ee]of o.items)C.has(A)||N.skipped_effects.add(Ee.e);N.add_callback(g)}else g();m(_)}})}function sl(e,t,n,r,i,l,s,o,a){var Wt,Wn,In,$n;var u=(s&ai)!==0,d=(s&(en|tn))!==0,v=t.length,p=n.items,_=n.first,c=_,b,g=null,T,E=[],w=[],S,O,C,N;if(u)for(N=0;N<v;N+=1)S=t[N],O=o(S,N),C=p.get(O),C!==void 0&&((Wt=C.a)==null||Wt.measure(),(T??(T=new Set)).add(C));for(N=0;N<v;N+=1){if(S=t[N],O=o(S,N),C=p.get(O),C===void 0){var H=r.get(O);if(H!==void 0){r.delete(O),p.set(O,H);var A=g?g.next:c;ve(n,g,H),ve(n,H,A),fn(H,A,i),g=H}else{var Ee=c?c.e.nodes_start:i;g=Pr(Ee,n,g,g===null?n.first:g.next,S,O,N,l,s,a)}p.set(O,g),E=[],w=[],c=g.next;continue}if(d&&qr(C,S,N,s),(C.e.f&ce)!==0&&(Pn(C.e),u&&((Wn=C.a)==null||Wn.unfix(),(T??(T=new Set)).delete(C))),C!==c){if(b!==void 0&&b.has(C)){if(E.length<w.length){var ee=w[0],J;g=ee.prev;var wt=E[0],yt=E[E.length-1];for(J=0;J<E.length;J+=1)fn(E[J],ee,i);for(J=0;J<w.length;J+=1)b.delete(w[J]);ve(n,wt.prev,yt.next),ve(n,g,wt),ve(n,yt,ee),c=ee,g=yt,N-=1,E=[],w=[]}else b.delete(C),fn(C,c,i),ve(n,C.prev,C.next),ve(n,C,g===null?n.first:g.next),ve(n,g,C),g=C;continue}for(E=[],w=[];c!==null&&c.k!==O;)(c.e.f&ce)===0&&(b??(b=new Set)).add(c),w.push(c),c=c.next;if(c===null)continue;C=c}E.push(C),g=C,c=C.next}if(c!==null||b!==void 0){for(var qe=b===void 0?[]:Sn(b);c!==null;)(c.e.f&ce)===0&&qe.push(c),c=c.next;var Pe=qe.length;if(Pe>0){var We=(s&ar)!==0&&v===0?i:null;if(u){for(N=0;N<Pe;N+=1)(In=qe[N].a)==null||In.measure();for(N=0;N<Pe;N+=1)($n=qe[N].a)==null||$n.fix()}ll(n,qe,We)}}u&&mt(()=>{var Fn;if(T!==void 0)for(C of T)(Fn=C.a)==null||Fn.apply()}),e.first=n.first&&n.first.e,e.last=g&&g.e;for(var Pt of r.values())le(Pt.e);r.clear()}function qr(e,t,n,r){(r&en)!==0&&_t(e.v,t),(r&tn)!==0?_t(e.i,n):e.i=n}function Pr(e,t,n,r,i,l,s,o,a,u,d){var v=(a&en)!==0,p=(a&oi)===0,_=v?p?kt(i,!1,!1):He(i):i,c=(a&tn)===0?s:He(s),b={i:c,v:_,k:l,a:null,e:null,prev:n,next:r};try{if(e===null){var g=document.createDocumentFragment();g.append(e=rn())}return b.e=oe(()=>o(e,_,c,u),pi),b.e.prev=n&&n.e,b.e.next=r&&r.e,n===null?d||(t.first=b):(n.next=b,n.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{}}function fn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==null&&l!==r;){var s=qt(l);i.before(l),l=s}}function ve(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Qn=[...` 	
\r\fÂ \v\uFEFF`];function al(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var l=i.length,s=0;(s=r.indexOf(i,s))>=0;){var o=s+l;(s===0||Qn.includes(r[s-1]))&&(o===r.length||Qn.includes(r[o]))?r=(s===0?"":r.substring(0,s))+r.substring(o+1):s=o}}return r===""?null:r}function ol(e,t){return e==null?null:String(e)}function Ht(e,t,n,r,i,l){var s=e.__className;if(s!==n||s===void 0){var o=al(n,r,l);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(l&&i!==l)for(var a in l){var u=!!l[a];(i==null||u!==!!i[a])&&e.classList.toggle(a,u)}return l}function Wr(e,t,n,r){var i=e.__style;if(i!==t){var l=ol(t);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}return r}const fl=Symbol("is custom element"),ul=Symbol("is html");function cl(e,t,n,r){var i=dl(e);i[t]!==(i[t]=n)&&e.setAttribute(t,n)}function dl(e){return e.__attributes??(e.__attributes={[fl]:e.nodeName.includes("-"),[ul]:e.namespaceURI===_i})}function zn(e,t){return e===t||(e==null?void 0:e[Ve])===t}function vl(e={},t,n,r){return ji(()=>{var i,l;return Sr(()=>{i=l,l=[],ue(()=>{e!==n(...l)&&(t(e,...l),i&&zn(n(...i),e)&&t(null,...i))})}),()=>{mt(()=>{l&&zn(n(...l),e)&&t(null,...l)})}}),e}function _l(e){return function(...t){var n=t[0];return n.stopPropagation(),e==null?void 0:e.apply(this,t)}}function bt(e=!1){const t=L,n=t.l.u;if(!n)return;let r=()=>nt(t.s);if(e){let i=0,l={};const s=Nn(()=>{let o=!1;const a=t.s;for(const u in a)a[u]!==l[u]&&(l[u]=a[u],o=!0);return o&&i++,i});r=()=>m(s)}n.b.length&&Fi(()=>{er(t,r),_n(n.b)}),wn(()=>{const i=ue(()=>n.m.map(Xr));return()=>{for(const l of i)typeof l=="function"&&l()}}),n.a.length&&wn(()=>{er(t,r),_n(n.a)})}function er(e,t){if(e.l.s)for(const n of e.l.s)m(n);t()}function hl(e,t){var l;var n=(l=e.$$events)==null?void 0:l[t.type],r=Dt(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}let It=!1;function pl(e){var t=It;try{return It=!1,[e(),It]}finally{It=t}}function Xt(e,t,n,r){var E;var i=!gt||(n&fi)!==0,l=(n&ci)!==0,s=r,o=!0,a=()=>(o&&(o=!1,s=r),s),u;{var d=Ve in e||Jr in e;u=((E=it(e,t))==null?void 0:E.set)??(d&&t in e?w=>e[t]=w:void 0)}var v,p=!1;[v,p]=pl(()=>e[t]);var _;if(i?_=()=>{var w=e[t];return w===void 0?a():(o=!0,w)}:_=()=>{var w=e[t];return w!==void 0&&(s=void 0),w===void 0?s:w},i&&(n&ui)===0)return _;if(u){var c=e.$$legacy;return(function(w,S){return arguments.length>0?((!i||!S||c||p)&&u(S?_():w),w):_()})}var b=!1,g=nn(()=>(b=!1,_()));m(g);var T=x;return(function(w,S){if(arguments.length>0){const O=S?m(g):i&&l?Ie(w):w;return q(g,O),b=!0,s!==void 0&&(s=O),w}return Qe&&b||(T.f&Ke)!==0?g.v:m(g)})}function gl(e){L===null&&sr(),gt&&L.l!==null?bl(L).m.push(e):wn(()=>{const t=ue(e);if(typeof t=="function")return t})}function ml(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Ir(){const e=L;return e===null&&sr(),(t,n,r)=>{var l;const i=(l=e.s.$$events)==null?void 0:l[t];if(i){const s=Dt(i)?i.slice():[i],o=ml(t,n,r);for(const a of s)a.call(e.x,o);return!o.defaultPrevented}return!0}}function bl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const wl="5";var nr;typeof window<"u"&&((nr=window.__svelte??(window.__svelte={})).v??(nr.v=new Set)).add(wl);bi();const En="AAAAAAAAABBCCDDDDEEEEEEEEEEEEFFGGGHHIIIIIIIIIJKLLLLMMNNNNNNOOOOOOOOPPQRRRRRRSSSSTTTTTTUUUUVVWWXYYZ**".split(""),f=Ie({currentWord:"",selectedTiles:[],usedWords:[],totalScore:0,wordList:new Set,layers:[],feedback:"",feedbackColor:"black",swapsRemaining:3,swapMode:!1,gameOver:!1,finalScore:0,penaltyScore:0,showEndGameConfirmation:!1});function yl(){fetch("./wordlist.txt").then(e=>e.text()).then(e=>{f.wordList=new Set(e.split(`
`).map(t=>t.trim().toUpperCase())),console.log("Wordlist loaded:",f.wordList.size,"words")}).catch(e=>console.error("Error loading wordlist:",e)),f.layers=El()}function El(){const e=[{size:4,offset:0,tiles:[]},{size:3,offset:1,tiles:[]},{size:2,offset:2,tiles:[]}],t=new Map,n=[...En];return e.forEach((r,i)=>{for(let l=r.offset;l<r.size*2+r.offset;l+=2)for(let s=r.offset;s<r.size*2+r.offset;s+=2){const o=n.length>0?n.splice(Math.floor(Math.random()*n.length),1)[0]:"*",a=[[s,l,i],[s+1,l,i],[s,l+1,i],[s+1,l+1,i]];for(const d of a)t.set(JSON.stringify(d),o);const u={id:`${s}-${l}-${i}`,letter:o,coords:a,parentCoords:i>0?[[s,l,i-1],[s+1,l,i-1],[s,l+1,i-1],[s+1,l+1,i-1]]:void 0,selected:!1,visible:i===0,selectable:i===0,layer:i,position:{x:s,y:l}};r.tiles.push(u)}}),e}function $r(e){if(!e.parentCoords||e.parentCoords.length===0)return e.visible;for(const t of e.parentCoords)if(f.layers.some(r=>r.tiles.some(i=>i.coords.some(l=>l[0]===t[0]&&l[1]===t[1]&&l[2]===t[2]))))return!1;return e.visible}function sn(e){var t;if(!e.visible||$r(e)||!e.parentCoords||e.parentCoords.length===0)return!1;for(const n of e.parentCoords){const r=(t=f.layers.find(i=>i.tiles.find(l=>l.coords.some(s=>s[0]===n[0]&&s[1]===n[1]&&s[2]===n[2]))))==null?void 0:t.tiles.find(i=>i.coords.some(l=>l[0]===n[0]&&l[1]===n[1]&&l[2]===n[2]));if(r&&!r.selected)return!1}return!0}function Tl(){f.layers.forEach(e=>{e.tiles.forEach(t=>{if(t.layer>0){const n=!t.parentCoords||t.parentCoords.some(r=>!f.layers.some(i=>i.tiles.some(l=>l.coords.some(s=>s[0]===r[0]&&s[1]===r[1]&&s[2]===r[2]))));t.visible=n}t.selectable=$r(t)})}),f.layers=[...f.layers]}function Sl(e){if(f.swapMode){if(!e.selectable){f.feedback="Can only swap available tiles, not temp-selectable ones",f.feedbackColor="red";return}Al(e);return}if(!(!e.selectable&&!sn(e)))if(e.selected){e.selected=!1;const t=f.selectedTiles.findIndex(n=>n.id===e.id);t!==-1&&(f.selectedTiles.splice(t,1),f.currentWord=f.currentWord.slice(0,t)+f.currentWord.slice(t+1)),Fr()}else e.selected=!0,f.selectedTiles.push(e),f.currentWord+=e.letter}function Fr(){const e=f.selectedTiles.filter(t=>!t.selectable&&t.selected);for(const t of e)if(!sn(t)){t.selected=!1;const n=f.selectedTiles.findIndex(r=>r.id===t.id);n!==-1&&(f.selectedTiles.splice(n,1),f.currentWord=f.currentWord.slice(0,n)+f.currentWord.slice(n+1))}f.layers=[...f.layers]}function kl(){var t;const e=f.selectedTiles.filter(n=>!n.selectable&&sn(n));for(const n of e)if(!(!n.parentCoords||n.parentCoords.length===0))for(const r of n.parentCoords){const i=(t=f.layers.find(l=>l.tiles.find(s=>s.coords.some(o=>o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]))))==null?void 0:t.tiles.find(l=>l.coords.some(s=>s[0]===r[0]&&s[1]===r[1]&&s[2]===r[2]));if(i&&!f.selectedTiles.includes(i))return{valid:!1,error:`Cannot use ${n.letter} - all covering tiles must be used in the same word`}}return{valid:!0,error:""}}function $t(){if(f.currentWord.length===0||f.gameOver)return;const e=kl();if(!e.valid){f.feedback=e.error,f.feedbackColor="red";return}const t=f.currentWord.toUpperCase();if(Cl(t).some(i=>f.wordList.has(i))){const i=Ur(f.currentWord.toUpperCase());f.totalScore+=i,f.usedWords.push({word:f.currentWord.toUpperCase(),score:i}),f.feedback=`"${f.currentWord}" is a valid word!`,f.feedbackColor="green",f.selectedTiles.forEach(l=>{const s=f.layers[l.layer],o=s.tiles.findIndex(a=>a.id===l.id);o!==-1&&s.tiles.splice(o,1)}),f.layers=[...f.layers],Tl()}else f.feedback=`"${f.currentWord}" is not a valid word.`,f.feedbackColor="red";rt()}function rt(){f.selectedTiles.forEach(e=>{e.selected=!1}),f.selectedTiles=[],f.currentWord="",f.layers=[...f.layers]}function Cl(e){const t=[];for(let l=0;l<e.length;l++)e[l]==="*"&&t.push(l);if(t.length===0)return[e];const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[];function i(l,s){if(s===t.length){r.push(l.join(""));return}const o=t[s];for(const a of n)l[o]=a,i(l,s+1);l[o]="*"}return i(e.split(""),0),r}function Ur(e){const t=e.length;if(t<=1)return 0;if(t===2)return 2;if(t===3)return 3;let n=2,r=3;for(let i=4;i<=t;i++){const l=n+r;n=r,r=l}return r}function tr(e,t){if(e===t||e<0||t<0||e>=f.selectedTiles.length||t>=f.selectedTiles.length)return;const n=[...f.selectedTiles],[r]=n.splice(e,1);n.splice(t,0,r),f.selectedTiles=n,f.currentWord=f.selectedTiles.map(i=>i.letter).join(""),f.layers=[...f.layers]}function xl(e){if(e<0||e>=f.selectedTiles.length)return;const t=f.selectedTiles[e];t.selected=!1,f.selectedTiles.splice(e,1),f.currentWord=f.selectedTiles.map(n=>n.letter).join(""),Fr()}function Ol(){return f.currentWord.length===0?0:Ur(f.currentWord.toUpperCase())}function un(){if(f.swapsRemaining<=0){f.feedback="No swaps remaining!",f.feedbackColor="red";return}f.swapMode=!f.swapMode,f.swapMode?(f.feedback="Click a tile to swap it for a new one",f.feedbackColor="blue"):(f.feedback="Swap mode cancelled",f.feedbackColor="black")}function Al(e){if(!f.swapMode||f.swapsRemaining<=0)return;const t=En[Math.floor(Math.random()*En.length)];e.letter=t,f.swapsRemaining--,f.swapMode=!1,f.feedback=`Swapped to ${t}! ${f.swapsRemaining} swaps remaining`,f.feedbackColor="green",f.layers=[...f.layers]}function cn(){f.gameOver||(f.showEndGameConfirmation=!0)}function ke(){f.showEndGameConfirmation=!1}function dn(){if(f.gameOver)return;const e=[];for(const t of f.layers)for(const n of t.tiles)e.push(n);f.penaltyScore=e.length*3,f.finalScore=f.totalScore-f.penaltyScore,f.gameOver=!0,f.showEndGameConfirmation=!1,rt(),f.feedback=`Game Over! Final Score: ${f.finalScore} (${f.totalScore} - ${f.penaltyScore} penalty)`,f.feedbackColor=f.finalScore>=0?"green":"red"}function Ml(e){return e.visible?e.selected?"selected":sn(e)?"temp-selectable":e.selectable?"available":"visible-unselectable":"hidden"}var Nl=G('<div role="button" tabindex="0"><div class="corner top-left svelte-1ctu6qg"> </div> <div class="corner top-right svelte-1ctu6qg"> </div> <div class="corner bottom-left svelte-1ctu6qg"> </div> <div class="corner bottom-right svelte-1ctu6qg"> </div></div>');function Rl(e,t){Ze(t,!1);let n=Xt(t,"tile",8),r=Xt(t,"state",8);const i=Ir();function l(){i("click")}function s(){return`grid-row-start: ${n().position.x+1}; grid-column-start: ${n().position.y+1};`}bt();var o=Nl(),a=R(o),u=R(a),d=D(a,2),v=R(d),p=D(d,2),_=R(p),c=D(p,2),b=R(c);we(g=>{Ht(o,1,`tile ${r()??""}`,"svelte-1ctu6qg"),Wr(o,g),j(u,(nt(n()),ue(()=>n().letter))),j(v,(nt(n()),ue(()=>n().letter))),j(_,(nt(n()),ue(()=>n().letter))),j(b,(nt(n()),ue(()=>n().letter)))},[()=>ue(s)]),P("click",o,l),P("keydown",o,g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),l())}),Y(e,o),Je()}var Dl=G('<div class="layer svelte-nkg03k"></div>'),Ll=G('<div class="game-container svelte-nkg03k"></div>');function ql(e,t){Ze(t,!1);function n(i){Sl(i)}bt();var r=Ll();Gt(r,5,()=>f.layers.slice().reverse(),il,(i,l)=>{var s=Dl();Gt(s,5,()=>m(l).tiles,o=>o.id,(o,a)=>{{let u=nn(()=>Ml(m(a)));Rl(o,{get tile(){return m(a)},get state(){return m(u)},$$events:{click:()=>n(m(a))}})}}),Y(i,s)}),Y(e,r),Je()}var Pl=G('<div role="button" tabindex="0"> </div>');function Wl(e,t){Ze(t,!1);let n=Xt(t,"tile",8),r=Xt(t,"index",8);const i=Ir();let l=kt(!1),s=!1,o=0,a=0,u=0,d=0,v=kt();function p(S){q(l,!0),s=!1,o=S.clientX,a=S.clientY;const O=m(v).getBoundingClientRect();u=S.clientX-O.left-O.width/2,d=S.clientY-O.top-O.height/2,document.addEventListener("mousemove",_),document.addEventListener("mouseup",b),S.preventDefault()}function _(S){if(!m(l))return;const O=S.clientX-o,C=S.clientY-a;if(!s&&(Math.abs(O)>5||Math.abs(C)>5)&&(s=!0,i("dragstart",{index:r(),tile:n()})),s){const N=S.clientX-u,H=S.clientY-d;Se(v,m(v).style.position="fixed"),Se(v,m(v).style.left=`${N}px`),Se(v,m(v).style.top=`${H}px`),Se(v,m(v).style.pointerEvents="none")}}function c(){s&&i("dragover",{index:r(),tile:n()})}function b(S){m(l)&&(s&&i("dragend",{index:r(),tile:n()}),Se(v,m(v).style.position=""),Se(v,m(v).style.left=""),Se(v,m(v).style.top=""),Se(v,m(v).style.pointerEvents="")),q(l,!1),s=!1,document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",b)}function g(){!m(l)&&!s&&i("click",{index:r(),tile:n()})}bt();var T=Pl();let E;var w=R(T);vl(T,S=>q(v,S),()=>m(v)),we(S=>{E=Ht(T,1,"word-tile svelte-ylbhh0",null,E,S),j(w,(nt(n()),ue(()=>n().letter)))},[()=>({dragging:m(l)})]),P("mousedown",T,p),P("click",T,g),P("mouseenter",T,c),P("keydown",T,S=>{(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),g())}),Y(e,T),Je()}var Il=G('<div role="button" aria-label="Drop zone for reordering tiles" tabindex="-1"></div>'),$l=G("<!> <!>",1),Fl=G('<div class="potential-score svelte-1vjod2b"> </div>'),Ul=G('<div class="word-area svelte-1vjod2b" tabindex="0" role="group" aria-label="Word building area - press Enter to submit, Escape to clear" aria-live="polite"><div class="word-area-row svelte-1vjod2b"><div class="word-tiles-container svelte-1vjod2b"></div> <!></div> <p class="feedback svelte-1vjod2b"> </p> <div class="controls svelte-1vjod2b"><button class="svelte-1vjod2b">Clear</button> <button> </button> <button class="svelte-1vjod2b">Submit</button></div></div>');function jl(e,t){Ze(t,!1);let n=kt(null),r=kt(null);function i(){m(n)!==null&&(q(n,null),q(r,null))}function l(A){switch(A.key){case"Enter":A.preventDefault(),$t();break;case"Escape":A.preventDefault(),rt();break}}function s(A){q(n,A.detail.index),document.addEventListener("mouseup",i)}function o(A){m(n)!==null&&m(r)!==null&&m(n)!==m(r)&&tr(m(n),m(r)),q(n,null),q(r,null),document.removeEventListener("mouseup",i)}function a(A){m(n)!==null&&q(r,A)}function u(){}function d(A){m(n)!==null&&m(n)!==A&&tr(m(n),A),q(n,null),q(r,null),document.removeEventListener("mouseup",i)}function v(A){xl(A.detail.index)}bt();var p=Ul(),_=R(p),c=R(_);Gt(c,7,()=>f.selectedTiles,A=>A.id,(A,Ee,ee)=>{var J=$l(),wt=wr(J);Wl(wt,{get tile(){return m(Ee)},get index(){return m(ee)},$$events:{dragstart:s,dragend:o,click:v}});var yt=D(wt,2);{var qe=Pe=>{var We=Il();let Pt;we(Wt=>Pt=Ht(We,1,"drop-zone svelte-1vjod2b",null,Pt,Wt),[()=>({active:m(r)===m(ee)&&m(n)!==null&&m(n)!==m(ee)})]),P("mouseenter",We,()=>a(m(ee))),P("mouseleave",We,()=>void 0),P("mouseup",We,()=>d(m(ee))),Y(Pe,We)};xt(yt,Pe=>{m(n)!==null&&Pe(qe)})}Y(A,J)});var b=D(c,2);{var g=A=>{var Ee=Fl(),ee=R(Ee);we(J=>j(ee,J),[Ol]),Y(A,Ee)};xt(b,A=>{f.currentWord.length>0&&A(g)})}var T=D(_,2),E=R(T),w=D(T,2),S=R(w),O=D(S,2);let C;var N=R(O),H=D(O,2);we(A=>{Wr(T,`color: ${f.feedbackColor??""}`),j(E,f.feedback),S.disabled=f.currentWord.length===0||f.gameOver,O.disabled=f.swapsRemaining<=0||f.gameOver,C=Ht(O,1,"svelte-1vjod2b",null,C,A),j(N,`Swap (${f.swapsRemaining??""})`),H.disabled=f.currentWord.length===0||f.gameOver},[()=>({"swap-mode":f.swapMode})]),P("click",S,function(...A){rt==null||rt.apply(this,A)}),P("click",O,function(...A){un==null||un.apply(this,A)}),P("click",H,function(...A){$t==null||$t.apply(this,A)}),P("keydown",p,l),Y(e,p),Je()}var Yl=G('<h3 class="final-score svelte-25wfcq"> </h3> <div class="score-breakdown svelte-25wfcq"><div class="score-item svelte-25wfcq"><span class="label svelte-25wfcq">Words Score:</span> <span class="value svelte-25wfcq"> </span></div> <div class="score-item penalty svelte-25wfcq"><span class="label svelte-25wfcq"> </span> <span class="value svelte-25wfcq"> </span></div> <div class="score-item total svelte-25wfcq"><span class="label svelte-25wfcq">Final Score:</span> <span class="value svelte-25wfcq"> </span></div></div>',1),Bl=G('<h3 class="svelte-25wfcq"> </h3>'),Vl=G('<li class="svelte-25wfcq"> </li>'),Gl=G('<div class="word-list svelte-25wfcq"><ul class="svelte-25wfcq"></ul></div>'),Hl=G('<div class="score-container svelte-25wfcq"><!> <!></div>');function Xl(e,t){Ze(t,!1),bt();var n=Hl(),r=R(n);{var i=a=>{var u=Yl(),d=wr(u),v=R(d),p=D(d,2),_=R(p),c=D(R(_),2),b=R(c),g=D(_,2),T=R(g),E=R(T),w=D(T,2),S=R(w),O=D(g,2),C=D(R(O),2),N=R(C);we(()=>{j(v,`Final Score: ${f.finalScore??""}`),j(b,f.totalScore),j(E,`Penalty (${f.penaltyScore/3} remaining letters):`),j(S,`-${f.penaltyScore??""}`),j(N,f.finalScore)}),Y(a,u)},l=a=>{var u=Bl(),d=R(u);we(()=>j(d,`Score: ${f.totalScore??""}`)),Y(a,u)};xt(r,a=>{f.gameOver?a(i):a(l,!1)})}var s=D(r,2);{var o=a=>{var u=Gl(),d=R(u);Gt(d,5,()=>f.usedWords,v=>v.word,(v,p)=>{var _=Vl(),c=R(_);we(()=>j(c,`${m(p).word??""} (${m(p).score??""})`)),Y(v,_)}),Y(a,u)};xt(s,a=>{f.usedWords.length>0&&a(o)})}Y(e,n),Je()}var Kl=G(`<div class="confirmation-overlay svelte-1n46o8q" role="dialog" aria-modal="true" aria-labelledby="dialog-title" tabindex="-1"><div class="confirmation-dialog svelte-1n46o8q" role="alertdialog" tabindex="0"><h3 id="dialog-title" class="svelte-1n46o8q">End Game?</h3> <p class="svelte-1n46o8q">Are you sure you want to end the game? You'll receive a penalty for any remaining letters.</p> <div class="confirmation-buttons svelte-1n46o8q"><button class="cancel-button svelte-1n46o8q">Cancel</button> <button class="confirm-button svelte-1n46o8q">End Game</button></div></div></div>`),Zl=G('<main class="svelte-1n46o8q"><img alt="Stacks Logo" class="svelte-1n46o8q"/> <!> <!> <!> <div class="bottom-controls svelte-1n46o8q"><button class="done-button svelte-1n46o8q">End Game</button></div> <!></main>');function Jl(e,t){Ze(t,!1);const n="./logo.svg";gl(()=>{yl()}),bt();var r=Zl(),i=R(r);cl(i,"src",n);var l=D(i,2);ql(l,{});var s=D(l,2);jl(s,{});var o=D(s,2);Xl(o,{});var a=D(o,2),u=R(a),d=D(a,2);{var v=p=>{var _=Kl(),c=R(_),b=D(R(c),4),g=R(b),T=D(g,2);P("click",g,function(...E){ke==null||ke.apply(this,E)}),P("click",T,function(...E){dn==null||dn.apply(this,E)}),P("click",c,_l(function(E){hl.call(this,t,E)})),P("keydown",c,E=>E.key==="Escape"&&ke()),P("click",_,function(...E){ke==null||ke.apply(this,E)}),P("keydown",_,E=>E.key==="Escape"&&ke()),Y(p,_)};xt(d,p=>{f.showEndGameConfirmation&&p(v)})}we(()=>u.disabled=f.gameOver),P("click",u,function(...p){cn==null||cn.apply(this,p)}),Y(e,r),Je()}tl(Jl,{target:document.getElementById("app")});
